"use strict";(()=>{var ts=Object.create;var _n=Object.defineProperty;var es=Object.getOwnPropertyDescriptor;var rs=Object.getOwnPropertyNames;var ns=Object.getPrototypeOf,is=Object.prototype.hasOwnProperty;var zr=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports);var os=(e,r,n,i)=>{if(r&&typeof r=="object"||typeof r=="function")for(let o of rs(r))!is.call(e,o)&&o!==n&&_n(e,o,{get:()=>r[o],enumerable:!(i=es(r,o))||i.enumerable});return e};var Rr=(e,r,n)=>(n=e!=null?ts(ns(e)):{},os(r||!e||!e.__esModule?_n(n,"default",{value:e,enumerable:!0}):n,e));var go=zr((Ug,po)=>{var ho="Expected a function",lo=NaN,Cf="[object Symbol]",Sf=/^\s+|\s+$/g,Tf=/^[-+]0x[0-9a-f]+$/i,Of=/^0b[01]+$/i,zf=/^0o[0-7]+$/i,Rf=parseInt,If=typeof global=="object"&&global&&global.Object===Object&&global,Nf=typeof self=="object"&&self&&self.Object===Object&&self,Pf=If||Nf||Function("return this")(),Ef=Object.prototype,Mf=Ef.toString,Df=Math.max,Lf=Math.min,Zr=function(){return Pf.Date.now()};function Ff(e,r,n){var i,o,a,s,u,f,l=0,h=!1,c=!1,p=!0;if(typeof e!="function")throw new TypeError(ho);r=co(r)||0,_r(n)&&(h=!!n.leading,c="maxWait"in n,a=c?Df(co(n.maxWait)||0,r):a,p="trailing"in n?!!n.trailing:p);function d(C){var S=i,z=o;return i=o=void 0,l=C,s=e.apply(z,S),s}function y(C){return l=C,u=setTimeout(g,r),h?d(C):s}function b(C){var S=C-f,z=C-l,M=r-S;return c?Lf(M,a-z):M}function k(C){var S=C-f,z=C-l;return f===void 0||S>=r||S<0||c&&z>=a}function g(){var C=Zr();if(k(C))return T(C);u=setTimeout(g,b(C))}function T(C){return u=void 0,p&&i?d(C):(i=o=void 0,s)}function O(){u!==void 0&&clearTimeout(u),l=0,i=f=o=u=void 0}function _(){return u===void 0?s:T(Zr())}function v(){var C=Zr(),S=k(C);if(i=arguments,o=this,f=C,S){if(u===void 0)return y(f);if(c)return u=setTimeout(g,r),d(f)}return u===void 0&&(u=setTimeout(g,r)),s}return v.cancel=O,v.flush=_,v}function qf(e,r,n){var i=!0,o=!0;if(typeof e!="function")throw new TypeError(ho);return _r(n)&&(i="leading"in n?!!n.leading:i,o="trailing"in n?!!n.trailing:o),Ff(e,r,{leading:i,maxWait:r,trailing:o})}function _r(e){var r=typeof e;return!!e&&(r=="object"||r=="function")}function Uf(e){return!!e&&typeof e=="object"}function Bf(e){return typeof e=="symbol"||Uf(e)&&Mf.call(e)==Cf}function co(e){if(typeof e=="number")return e;if(Bf(e))return lo;if(_r(e)){var r=typeof e.valueOf=="function"?e.valueOf():e;e=_r(r)?r+"":r}if(typeof e!="string")return e===0?e:+e;e=e.replace(Sf,"");var n=Of.test(e);return n||zf.test(e)?Rf(e.slice(2),n?2:8):Tf.test(e)?lo:+e}po.exports=qf});var vo=zr((jg,yo)=>{function Kr(e,r,n){var i,o,a,s,u;r==null&&(r=100);function f(){var h=Date.now()-s;h<r&&h>=0?i=setTimeout(f,r-h):(i=null,n||(u=e.apply(a,o),a=o=null))}var l=function(){a=this,o=arguments,s=Date.now();var h=n&&!i;return i||(i=setTimeout(f,r)),h&&(u=e.apply(a,o),a=o=null),u};return l.clear=function(){i&&(clearTimeout(i),i=null)},l.flush=function(){i&&(u=e.apply(a,o),a=o=null,clearTimeout(i),i=null)},l}Kr.debounce=Kr;yo.exports=Kr});var ko=zr(($g,br)=>{(function(e){var r=/^\s+/,n=/\s+$/,i=0,o=e.round,a=e.min,s=e.max,u=e.random;function f(m,w){if(m=m||"",w=w||{},m instanceof f)return m;if(!(this instanceof f))return new f(m,w);var x=l(m);this._originalInput=m,this._r=x.r,this._g=x.g,this._b=x.b,this._a=x.a,this._roundA=o(100*this._a)/100,this._format=w.format||x.format,this._gradientType=w.gradientType,this._r<1&&(this._r=o(this._r)),this._g<1&&(this._g=o(this._g)),this._b<1&&(this._b=o(this._b)),this._ok=x.ok,this._tc_id=i++}f.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var m=this.toRgb();return(m.r*299+m.g*587+m.b*114)/1e3},getLuminance:function(){var m=this.toRgb(),w,x,N,F,L,Y;return w=m.r/255,x=m.g/255,N=m.b/255,w<=.03928?F=w/12.92:F=e.pow((w+.055)/1.055,2.4),x<=.03928?L=x/12.92:L=e.pow((x+.055)/1.055,2.4),N<=.03928?Y=N/12.92:Y=e.pow((N+.055)/1.055,2.4),.2126*F+.7152*L+.0722*Y},setAlpha:function(m){return this._a=j(m),this._roundA=o(100*this._a)/100,this},toHsv:function(){var m=d(this._r,this._g,this._b);return{h:m.h*360,s:m.s,v:m.v,a:this._a}},toHsvString:function(){var m=d(this._r,this._g,this._b),w=o(m.h*360),x=o(m.s*100),N=o(m.v*100);return this._a==1?"hsv("+w+", "+x+"%, "+N+"%)":"hsva("+w+", "+x+"%, "+N+"%, "+this._roundA+")"},toHsl:function(){var m=c(this._r,this._g,this._b);return{h:m.h*360,s:m.s,l:m.l,a:this._a}},toHslString:function(){var m=c(this._r,this._g,this._b),w=o(m.h*360),x=o(m.s*100),N=o(m.l*100);return this._a==1?"hsl("+w+", "+x+"%, "+N+"%)":"hsla("+w+", "+x+"%, "+N+"%, "+this._roundA+")"},toHex:function(m){return b(this._r,this._g,this._b,m)},toHexString:function(m){return"#"+this.toHex(m)},toHex8:function(m){return k(this._r,this._g,this._b,this._a,m)},toHex8String:function(m){return"#"+this.toHex8(m)},toRgb:function(){return{r:o(this._r),g:o(this._g),b:o(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+o(this._r)+", "+o(this._g)+", "+o(this._b)+")":"rgba("+o(this._r)+", "+o(this._g)+", "+o(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:o(D(this._r,255)*100)+"%",g:o(D(this._g,255)*100)+"%",b:o(D(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+o(D(this._r,255)*100)+"%, "+o(D(this._g,255)*100)+"%, "+o(D(this._b,255)*100)+"%)":"rgba("+o(D(this._r,255)*100)+"%, "+o(D(this._g,255)*100)+"%, "+o(D(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:R[b(this._r,this._g,this._b,!0)]||!1},toFilter:function(m){var w="#"+g(this._r,this._g,this._b,this._a),x=w,N=this._gradientType?"GradientType = 1, ":"";if(m){var F=f(m);x="#"+g(F._r,F._g,F._b,F._a)}return"progid:DXImageTransform.Microsoft.gradient("+N+"startColorstr="+w+",endColorstr="+x+")"},toString:function(m){var w=!!m;m=m||this._format;var x=!1,N=this._a<1&&this._a>=0,F=!w&&N&&(m==="hex"||m==="hex6"||m==="hex3"||m==="hex4"||m==="hex8"||m==="name");return F?m==="name"&&this._a===0?this.toName():this.toRgbString():(m==="rgb"&&(x=this.toRgbString()),m==="prgb"&&(x=this.toPercentageRgbString()),(m==="hex"||m==="hex6")&&(x=this.toHexString()),m==="hex3"&&(x=this.toHexString(!0)),m==="hex4"&&(x=this.toHex8String(!0)),m==="hex8"&&(x=this.toHex8String()),m==="name"&&(x=this.toName()),m==="hsl"&&(x=this.toHslString()),m==="hsv"&&(x=this.toHsvString()),x||this.toHexString())},clone:function(){return f(this.toString())},_applyModification:function(m,w){var x=m.apply(null,[this].concat([].slice.call(w)));return this._r=x._r,this._g=x._g,this._b=x._b,this.setAlpha(x._a),this},lighten:function(){return this._applyModification(v,arguments)},brighten:function(){return this._applyModification(C,arguments)},darken:function(){return this._applyModification(S,arguments)},desaturate:function(){return this._applyModification(T,arguments)},saturate:function(){return this._applyModification(O,arguments)},greyscale:function(){return this._applyModification(_,arguments)},spin:function(){return this._applyModification(z,arguments)},_applyCombination:function(m,w){return m.apply(null,[this].concat([].slice.call(w)))},analogous:function(){return this._applyCombination($,arguments)},complement:function(){return this._applyCombination(M,arguments)},monochromatic:function(){return this._applyCombination(A,arguments)},splitcomplement:function(){return this._applyCombination(B,arguments)},triad:function(){return this._applyCombination(E,arguments)},tetrad:function(){return this._applyCombination(U,arguments)}},f.fromRatio=function(m,w){if(typeof m=="object"){var x={};for(var N in m)m.hasOwnProperty(N)&&(N==="a"?x[N]=m[N]:x[N]=ot(m[N]));m=x}return f(m,w)};function l(m){var w={r:0,g:0,b:0},x=1,N=null,F=null,L=null,Y=!1,K=!1;return typeof m=="string"&&(m=Ka(m)),typeof m=="object"&&(gt(m.r)&&gt(m.g)&&gt(m.b)?(w=h(m.r,m.g,m.b),Y=!0,K=String(m.r).substr(-1)==="%"?"prgb":"rgb"):gt(m.h)&&gt(m.s)&&gt(m.v)?(N=ot(m.s),F=ot(m.v),w=y(m.h,N,F),Y=!0,K="hsv"):gt(m.h)&&gt(m.s)&&gt(m.l)&&(N=ot(m.s),L=ot(m.l),w=p(m.h,N,L),Y=!0,K="hsl"),m.hasOwnProperty("a")&&(x=m.a)),x=j(x),{ok:Y,format:m.format||K,r:a(255,s(w.r,0)),g:a(255,s(w.g,0)),b:a(255,s(w.b,0)),a:x}}function h(m,w,x){return{r:D(m,255)*255,g:D(w,255)*255,b:D(x,255)*255}}function c(m,w,x){m=D(m,255),w=D(w,255),x=D(x,255);var N=s(m,w,x),F=a(m,w,x),L,Y,K=(N+F)/2;if(N==F)L=Y=0;else{var et=N-F;switch(Y=K>.5?et/(2-N-F):et/(N+F),N){case m:L=(w-x)/et+(w<x?6:0);break;case w:L=(x-m)/et+2;break;case x:L=(m-w)/et+4;break}L/=6}return{h:L,s:Y,l:K}}function p(m,w,x){var N,F,L;m=D(m,360),w=D(w,100),x=D(x,100);function Y(yt,fe,Ct){return Ct<0&&(Ct+=1),Ct>1&&(Ct-=1),Ct<1/6?yt+(fe-yt)*6*Ct:Ct<1/2?fe:Ct<2/3?yt+(fe-yt)*(2/3-Ct)*6:yt}if(w===0)N=F=L=x;else{var K=x<.5?x*(1+w):x+w-x*w,et=2*x-K;N=Y(et,K,m+1/3),F=Y(et,K,m),L=Y(et,K,m-1/3)}return{r:N*255,g:F*255,b:L*255}}function d(m,w,x){m=D(m,255),w=D(w,255),x=D(x,255);var N=s(m,w,x),F=a(m,w,x),L,Y,K=N,et=N-F;if(Y=N===0?0:et/N,N==F)L=0;else{switch(N){case m:L=(w-x)/et+(w<x?6:0);break;case w:L=(x-m)/et+2;break;case x:L=(m-w)/et+4;break}L/=6}return{h:L,s:Y,v:K}}function y(m,w,x){m=D(m,360)*6,w=D(w,100),x=D(x,100);var N=e.floor(m),F=m-N,L=x*(1-w),Y=x*(1-F*w),K=x*(1-(1-F)*w),et=N%6,yt=[x,Y,L,L,K,x][et],fe=[K,x,x,Y,L,L][et],Ct=[L,L,K,x,x,Y][et];return{r:yt*255,g:fe*255,b:Ct*255}}function b(m,w,x,N){var F=[V(o(m).toString(16)),V(o(w).toString(16)),V(o(x).toString(16))];return N&&F[0].charAt(0)==F[0].charAt(1)&&F[1].charAt(0)==F[1].charAt(1)&&F[2].charAt(0)==F[2].charAt(1)?F[0].charAt(0)+F[1].charAt(0)+F[2].charAt(0):F.join("")}function k(m,w,x,N,F){var L=[V(o(m).toString(16)),V(o(w).toString(16)),V(o(x).toString(16)),V(xt(N))];return F&&L[0].charAt(0)==L[0].charAt(1)&&L[1].charAt(0)==L[1].charAt(1)&&L[2].charAt(0)==L[2].charAt(1)&&L[3].charAt(0)==L[3].charAt(1)?L[0].charAt(0)+L[1].charAt(0)+L[2].charAt(0)+L[3].charAt(0):L.join("")}function g(m,w,x,N){var F=[V(xt(N)),V(o(m).toString(16)),V(o(w).toString(16)),V(o(x).toString(16))];return F.join("")}f.equals=function(m,w){return!m||!w?!1:f(m).toRgbString()==f(w).toRgbString()},f.random=function(){return f.fromRatio({r:u(),g:u(),b:u()})};function T(m,w){w=w===0?0:w||10;var x=f(m).toHsl();return x.s-=w/100,x.s=H(x.s),f(x)}function O(m,w){w=w===0?0:w||10;var x=f(m).toHsl();return x.s+=w/100,x.s=H(x.s),f(x)}function _(m){return f(m).desaturate(100)}function v(m,w){w=w===0?0:w||10;var x=f(m).toHsl();return x.l+=w/100,x.l=H(x.l),f(x)}function C(m,w){w=w===0?0:w||10;var x=f(m).toRgb();return x.r=s(0,a(255,x.r-o(255*-(w/100)))),x.g=s(0,a(255,x.g-o(255*-(w/100)))),x.b=s(0,a(255,x.b-o(255*-(w/100)))),f(x)}function S(m,w){w=w===0?0:w||10;var x=f(m).toHsl();return x.l-=w/100,x.l=H(x.l),f(x)}function z(m,w){var x=f(m).toHsl(),N=(x.h+w)%360;return x.h=N<0?360+N:N,f(x)}function M(m){var w=f(m).toHsl();return w.h=(w.h+180)%360,f(w)}function E(m){var w=f(m).toHsl(),x=w.h;return[f(m),f({h:(x+120)%360,s:w.s,l:w.l}),f({h:(x+240)%360,s:w.s,l:w.l})]}function U(m){var w=f(m).toHsl(),x=w.h;return[f(m),f({h:(x+90)%360,s:w.s,l:w.l}),f({h:(x+180)%360,s:w.s,l:w.l}),f({h:(x+270)%360,s:w.s,l:w.l})]}function B(m){var w=f(m).toHsl(),x=w.h;return[f(m),f({h:(x+72)%360,s:w.s,l:w.l}),f({h:(x+216)%360,s:w.s,l:w.l})]}function $(m,w,x){w=w||6,x=x||30;var N=f(m).toHsl(),F=360/x,L=[f(m)];for(N.h=(N.h-(F*w>>1)+720)%360;--w;)N.h=(N.h+F)%360,L.push(f(N));return L}function A(m,w){w=w||6;for(var x=f(m).toHsv(),N=x.h,F=x.s,L=x.v,Y=[],K=1/w;w--;)Y.push(f({h:N,s:F,v:L})),L=(L+K)%1;return Y}f.mix=function(m,w,x){x=x===0?0:x||50;var N=f(m).toRgb(),F=f(w).toRgb(),L=x/100,Y={r:(F.r-N.r)*L+N.r,g:(F.g-N.g)*L+N.g,b:(F.b-N.b)*L+N.b,a:(F.a-N.a)*L+N.a};return f(Y)},f.readability=function(m,w){var x=f(m),N=f(w);return(e.max(x.getLuminance(),N.getLuminance())+.05)/(e.min(x.getLuminance(),N.getLuminance())+.05)},f.isReadable=function(m,w,x){var N=f.readability(m,w),F,L;switch(L=!1,F=Ja(x),F.level+F.size){case"AAsmall":case"AAAlarge":L=N>=4.5;break;case"AAlarge":L=N>=3;break;case"AAAsmall":L=N>=7;break}return L},f.mostReadable=function(m,w,x){var N=null,F=0,L,Y,K,et;x=x||{},Y=x.includeFallbackColors,K=x.level,et=x.size;for(var yt=0;yt<w.length;yt++)L=f.readability(m,w[yt]),L>F&&(F=L,N=f(w[yt]));return f.isReadable(m,N,{level:K,size:et})||!Y?N:(x.includeFallbackColors=!1,f.mostReadable(m,["#fff","#000"],x))};var P=f.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},R=f.hexNames=q(P);function q(m){var w={};for(var x in m)m.hasOwnProperty(x)&&(w[m[x]]=x);return w}function j(m){return m=parseFloat(m),(isNaN(m)||m<0||m>1)&&(m=1),m}function D(m,w){Z(m)&&(m="100%");var x=rt(m);return m=a(w,s(0,parseFloat(m))),x&&(m=parseInt(m*w,10)/100),e.abs(m-w)<1e-6?1:m%w/parseFloat(w)}function H(m){return a(1,s(0,m))}function G(m){return parseInt(m,16)}function Z(m){return typeof m=="string"&&m.indexOf(".")!=-1&&parseFloat(m)===1}function rt(m){return typeof m=="string"&&m.indexOf("%")!=-1}function V(m){return m.length==1?"0"+m:""+m}function ot(m){return m<=1&&(m=m*100+"%"),m}function xt(m){return e.round(parseFloat(m)*255).toString(16)}function ht(m){return G(m)/255}var tt=function(){var m="[-\\+]?\\d+%?",w="[-\\+]?\\d*\\.\\d+%?",x="(?:"+w+")|(?:"+m+")",N="[\\s|\\(]+("+x+")[,|\\s]+("+x+")[,|\\s]+("+x+")\\s*\\)?",F="[\\s|\\(]+("+x+")[,|\\s]+("+x+")[,|\\s]+("+x+")[,|\\s]+("+x+")\\s*\\)?";return{CSS_UNIT:new RegExp(x),rgb:new RegExp("rgb"+N),rgba:new RegExp("rgba"+F),hsl:new RegExp("hsl"+N),hsla:new RegExp("hsla"+F),hsv:new RegExp("hsv"+N),hsva:new RegExp("hsva"+F),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function gt(m){return!!tt.CSS_UNIT.exec(m)}function Ka(m){m=m.replace(r,"").replace(n,"").toLowerCase();var w=!1;if(P[m])m=P[m],w=!0;else if(m=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var x;return(x=tt.rgb.exec(m))?{r:x[1],g:x[2],b:x[3]}:(x=tt.rgba.exec(m))?{r:x[1],g:x[2],b:x[3],a:x[4]}:(x=tt.hsl.exec(m))?{h:x[1],s:x[2],l:x[3]}:(x=tt.hsla.exec(m))?{h:x[1],s:x[2],l:x[3],a:x[4]}:(x=tt.hsv.exec(m))?{h:x[1],s:x[2],v:x[3]}:(x=tt.hsva.exec(m))?{h:x[1],s:x[2],v:x[3],a:x[4]}:(x=tt.hex8.exec(m))?{r:G(x[1]),g:G(x[2]),b:G(x[3]),a:ht(x[4]),format:w?"name":"hex8"}:(x=tt.hex6.exec(m))?{r:G(x[1]),g:G(x[2]),b:G(x[3]),format:w?"name":"hex"}:(x=tt.hex4.exec(m))?{r:G(x[1]+""+x[1]),g:G(x[2]+""+x[2]),b:G(x[3]+""+x[3]),a:ht(x[4]+""+x[4]),format:w?"name":"hex8"}:(x=tt.hex3.exec(m))?{r:G(x[1]+""+x[1]),g:G(x[2]+""+x[2]),b:G(x[3]+""+x[3]),format:w?"name":"hex"}:!1}function Ja(m){var w,x;return m=m||{level:"AA",size:"small"},w=(m.level||"AA").toUpperCase(),x=(m.size||"small").toLowerCase(),w!=="AA"&&w!=="AAA"&&(w="AA"),x!=="small"&&x!=="large"&&(x="small"),{level:w,size:x}}typeof br<"u"&&br.exports?br.exports=f:typeof define=="function"&&define.amd?define(function(){return f}):window.tinycolor=f})(Math)});var Ye="http://www.w3.org/1999/xhtml",Ir={svg:"http://www.w3.org/2000/svg",xhtml:Ye,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function It(e){var r=e+="",n=r.indexOf(":");return n>=0&&(r=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Ir.hasOwnProperty(r)?{space:Ir[r],local:e}:e}function as(e){return function(){var r=this.ownerDocument,n=this.namespaceURI;return n===Ye&&r.documentElement.namespaceURI===Ye?r.createElement(e):r.createElementNS(n,e)}}function ss(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Xe(e){var r=It(e);return(r.local?ss:as)(r)}function us(){}function Ht(e){return e==null?us:function(){return this.querySelector(e)}}function bn(e){typeof e!="function"&&(e=Ht(e));for(var r=this._groups,n=r.length,i=new Array(n),o=0;o<n;++o)for(var a=r[o],s=a.length,u=i[o]=new Array(s),f,l,h=0;h<s;++h)(f=a[h])&&(l=e.call(f,f.__data__,h,a))&&("__data__"in f&&(l.__data__=f.__data__),u[h]=l);return new J(i,this._parents)}function Nr(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function fs(){return[]}function le(e){return e==null?fs:function(){return this.querySelectorAll(e)}}function ls(e){return function(){return Nr(e.apply(this,arguments))}}function wn(e){typeof e=="function"?e=ls(e):e=le(e);for(var r=this._groups,n=r.length,i=[],o=[],a=0;a<n;++a)for(var s=r[a],u=s.length,f,l=0;l<u;++l)(f=s[l])&&(i.push(e.call(f,f.__data__,l,s)),o.push(f));return new J(i,o)}function ce(e){return function(){return this.matches(e)}}function We(e){return function(r){return r.matches(e)}}var cs=Array.prototype.find;function hs(e){return function(){return cs.call(this.children,e)}}function ps(){return this.firstElementChild}function kn(e){return this.select(e==null?ps:hs(typeof e=="function"?e:We(e)))}var ds=Array.prototype.filter;function gs(){return Array.from(this.children)}function ms(e){return function(){return ds.call(this.children,e)}}function An(e){return this.selectAll(e==null?gs:ms(typeof e=="function"?e:We(e)))}function Cn(e){typeof e!="function"&&(e=ce(e));for(var r=this._groups,n=r.length,i=new Array(n),o=0;o<n;++o)for(var a=r[o],s=a.length,u=i[o]=[],f,l=0;l<s;++l)(f=a[l])&&e.call(f,f.__data__,l,a)&&u.push(f);return new J(i,this._parents)}function Ze(e){return new Array(e.length)}function Sn(){return new J(this._enter||this._groups.map(Ze),this._parents)}function he(e,r){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=r}he.prototype={constructor:he,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,r){return this._parent.insertBefore(e,r)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Tn(e){return function(){return e}}function xs(e,r,n,i,o,a){for(var s=0,u,f=r.length,l=a.length;s<l;++s)(u=r[s])?(u.__data__=a[s],i[s]=u):n[s]=new he(e,a[s]);for(;s<f;++s)(u=r[s])&&(o[s]=u)}function ys(e,r,n,i,o,a,s){var u,f,l=new Map,h=r.length,c=a.length,p=new Array(h),d;for(u=0;u<h;++u)(f=r[u])&&(p[u]=d=s.call(f,f.__data__,u,r)+"",l.has(d)?o[u]=f:l.set(d,f));for(u=0;u<c;++u)d=s.call(e,a[u],u,a)+"",(f=l.get(d))?(i[u]=f,f.__data__=a[u],l.delete(d)):n[u]=new he(e,a[u]);for(u=0;u<h;++u)(f=r[u])&&l.get(p[u])===f&&(o[u]=f)}function vs(e){return e.__data__}function On(e,r){if(!arguments.length)return Array.from(this,vs);var n=r?ys:xs,i=this._parents,o=this._groups;typeof e!="function"&&(e=Tn(e));for(var a=o.length,s=new Array(a),u=new Array(a),f=new Array(a),l=0;l<a;++l){var h=i[l],c=o[l],p=c.length,d=_s(e.call(h,h&&h.__data__,l,i)),y=d.length,b=u[l]=new Array(y),k=s[l]=new Array(y),g=f[l]=new Array(p);n(h,c,b,k,g,d,r);for(var T=0,O=0,_,v;T<y;++T)if(_=b[T]){for(T>=O&&(O=T+1);!(v=k[O])&&++O<y;);_._next=v||null}}return s=new J(s,i),s._enter=u,s._exit=f,s}function _s(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function zn(){return new J(this._exit||this._groups.map(Ze),this._parents)}function Rn(e,r,n){var i=this.enter(),o=this,a=this.exit();return typeof e=="function"?(i=e(i),i&&(i=i.selection())):i=i.append(e+""),r!=null&&(o=r(o),o&&(o=o.selection())),n==null?a.remove():n(a),i&&o?i.merge(o).order():o}function In(e){for(var r=e.selection?e.selection():e,n=this._groups,i=r._groups,o=n.length,a=i.length,s=Math.min(o,a),u=new Array(o),f=0;f<s;++f)for(var l=n[f],h=i[f],c=l.length,p=u[f]=new Array(c),d,y=0;y<c;++y)(d=l[y]||h[y])&&(p[y]=d);for(;f<o;++f)u[f]=n[f];return new J(u,this._parents)}function Nn(){for(var e=this._groups,r=-1,n=e.length;++r<n;)for(var i=e[r],o=i.length-1,a=i[o],s;--o>=0;)(s=i[o])&&(a&&s.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(s,a),a=s);return this}function Pn(e){e||(e=bs);function r(c,p){return c&&p?e(c.__data__,p.__data__):!c-!p}for(var n=this._groups,i=n.length,o=new Array(i),a=0;a<i;++a){for(var s=n[a],u=s.length,f=o[a]=new Array(u),l,h=0;h<u;++h)(l=s[h])&&(f[h]=l);f.sort(r)}return new J(o,this._parents).order()}function bs(e,r){return e<r?-1:e>r?1:e>=r?0:NaN}function En(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Mn(){return Array.from(this)}function Dn(){for(var e=this._groups,r=0,n=e.length;r<n;++r)for(var i=e[r],o=0,a=i.length;o<a;++o){var s=i[o];if(s)return s}return null}function Ln(){let e=0;for(let r of this)++e;return e}function Fn(){return!this.node()}function qn(e){for(var r=this._groups,n=0,i=r.length;n<i;++n)for(var o=r[n],a=0,s=o.length,u;a<s;++a)(u=o[a])&&e.call(u,u.__data__,a,o);return this}function ws(e){return function(){this.removeAttribute(e)}}function ks(e){return function(){this.removeAttributeNS(e.space,e.local)}}function As(e,r){return function(){this.setAttribute(e,r)}}function Cs(e,r){return function(){this.setAttributeNS(e.space,e.local,r)}}function Ss(e,r){return function(){var n=r.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Ts(e,r){return function(){var n=r.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Un(e,r){var n=It(e);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((r==null?n.local?ks:ws:typeof r=="function"?n.local?Ts:Ss:n.local?Cs:As)(n,r))}function Qe(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Os(e){return function(){this.style.removeProperty(e)}}function zs(e,r,n){return function(){this.style.setProperty(e,r,n)}}function Rs(e,r,n){return function(){var i=r.apply(this,arguments);i==null?this.style.removeProperty(e):this.style.setProperty(e,i,n)}}function Bn(e,r,n){return arguments.length>1?this.each((r==null?Os:typeof r=="function"?Rs:zs)(e,r,n??"")):Dt(this.node(),e)}function Dt(e,r){return e.style.getPropertyValue(r)||Qe(e).getComputedStyle(e,null).getPropertyValue(r)}function Is(e){return function(){delete this[e]}}function Ns(e,r){return function(){this[e]=r}}function Ps(e,r){return function(){var n=r.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function jn(e,r){return arguments.length>1?this.each((r==null?Is:typeof r=="function"?Ps:Ns)(e,r)):this.node()[e]}function Hn(e){return e.trim().split(/^|\s+/)}function Pr(e){return e.classList||new Gn(e)}function Gn(e){this._node=e,this._names=Hn(e.getAttribute("class")||"")}Gn.prototype={add:function(e){var r=this._names.indexOf(e);r<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var r=this._names.indexOf(e);r>=0&&(this._names.splice(r,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function $n(e,r){for(var n=Pr(e),i=-1,o=r.length;++i<o;)n.add(r[i])}function Vn(e,r){for(var n=Pr(e),i=-1,o=r.length;++i<o;)n.remove(r[i])}function Es(e){return function(){$n(this,e)}}function Ms(e){return function(){Vn(this,e)}}function Ds(e,r){return function(){(r.apply(this,arguments)?$n:Vn)(this,e)}}function Yn(e,r){var n=Hn(e+"");if(arguments.length<2){for(var i=Pr(this.node()),o=-1,a=n.length;++o<a;)if(!i.contains(n[o]))return!1;return!0}return this.each((typeof r=="function"?Ds:r?Es:Ms)(n,r))}function Ls(){this.textContent=""}function Fs(e){return function(){this.textContent=e}}function qs(e){return function(){var r=e.apply(this,arguments);this.textContent=r??""}}function Xn(e){return arguments.length?this.each(e==null?Ls:(typeof e=="function"?qs:Fs)(e)):this.node().textContent}function Us(){this.innerHTML=""}function Bs(e){return function(){this.innerHTML=e}}function js(e){return function(){var r=e.apply(this,arguments);this.innerHTML=r??""}}function Wn(e){return arguments.length?this.each(e==null?Us:(typeof e=="function"?js:Bs)(e)):this.node().innerHTML}function Hs(){this.nextSibling&&this.parentNode.appendChild(this)}function Zn(){return this.each(Hs)}function Gs(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Qn(){return this.each(Gs)}function Kn(e){var r=typeof e=="function"?e:Xe(e);return this.select(function(){return this.appendChild(r.apply(this,arguments))})}function $s(){return null}function Jn(e,r){var n=typeof e=="function"?e:Xe(e),i=r==null?$s:typeof r=="function"?r:Ht(r);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function Vs(){var e=this.parentNode;e&&e.removeChild(this)}function ti(){return this.each(Vs)}function Ys(){var e=this.cloneNode(!1),r=this.parentNode;return r?r.insertBefore(e,this.nextSibling):e}function Xs(){var e=this.cloneNode(!0),r=this.parentNode;return r?r.insertBefore(e,this.nextSibling):e}function ei(e){return this.select(e?Xs:Ys)}function ri(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Ws(e){return function(r){e.call(this,r,this.__data__)}}function Zs(e){return e.trim().split(/^|\s+/).map(function(r){var n="",i=r.indexOf(".");return i>=0&&(n=r.slice(i+1),r=r.slice(0,i)),{type:r,name:n}})}function Qs(e){return function(){var r=this.__on;if(!!r){for(var n=0,i=-1,o=r.length,a;n<o;++n)a=r[n],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):r[++i]=a;++i?r.length=i:delete this.__on}}}function Ks(e,r,n){return function(){var i=this.__on,o,a=Ws(r);if(i){for(var s=0,u=i.length;s<u;++s)if((o=i[s]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=a,o.options=n),o.value=r;return}}this.addEventListener(e.type,a,n),o={type:e.type,name:e.name,value:r,listener:a,options:n},i?i.push(o):this.__on=[o]}}function ni(e,r,n){var i=Zs(e+""),o,a=i.length,s;if(arguments.length<2){var u=this.node().__on;if(u){for(var f=0,l=u.length,h;f<l;++f)for(o=0,h=u[f];o<a;++o)if((s=i[o]).type===h.type&&s.name===h.name)return h.value}return}for(u=r?Ks:Qs,o=0;o<a;++o)this.each(u(i[o],r,n));return this}function ii(e,r,n){var i=Qe(e),o=i.CustomEvent;typeof o=="function"?o=new o(r,n):(o=i.document.createEvent("Event"),n?(o.initEvent(r,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(r,!1,!1)),e.dispatchEvent(o)}function Js(e,r){return function(){return ii(this,e,r)}}function tu(e,r){return function(){return ii(this,e,r.apply(this,arguments))}}function oi(e,r){return this.each((typeof r=="function"?tu:Js)(e,r))}function*ai(){for(var e=this._groups,r=0,n=e.length;r<n;++r)for(var i=e[r],o=0,a=i.length,s;o<a;++o)(s=i[o])&&(yield s)}var Er=[null];function J(e,r){this._groups=e,this._parents=r}function si(){return new J([[document.documentElement]],Er)}function eu(){return this}J.prototype=si.prototype={constructor:J,select:bn,selectAll:wn,selectChild:kn,selectChildren:An,filter:Cn,data:On,enter:Sn,exit:zn,join:Rn,merge:In,selection:eu,order:Nn,sort:Pn,call:En,nodes:Mn,node:Dn,size:Ln,empty:Fn,each:qn,attr:Un,style:Bn,property:jn,classed:Yn,text:Xn,html:Wn,raise:Zn,lower:Qn,append:Kn,insert:Jn,remove:ti,clone:ei,datum:ri,on:ni,dispatch:oi,[Symbol.iterator]:ai};var Nt=si;function st(e){return typeof e=="string"?new J([[document.querySelector(e)]],[document.documentElement]):new J([[e]],Er)}function ui(e){let r;for(;r=e.sourceEvent;)e=r;return e}function vt(e,r){if(e=ui(e),r===void 0&&(r=e.currentTarget),r){var n=r.ownerSVGElement||r;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,i=i.matrixTransform(r.getScreenCTM().inverse()),[i.x,i.y]}if(r.getBoundingClientRect){var o=r.getBoundingClientRect();return[e.clientX-o.left-r.clientLeft,e.clientY-o.top-r.clientTop]}}return[e.pageX,e.pageY]}var ru={value:()=>{}};function li(){for(var e=0,r=arguments.length,n={},i;e<r;++e){if(!(i=arguments[e]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new Ke(n)}function Ke(e){this._=e}function nu(e,r){return e.trim().split(/^|\s+/).map(function(n){var i="",o=n.indexOf(".");if(o>=0&&(i=n.slice(o+1),n=n.slice(0,o)),n&&!r.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}Ke.prototype=li.prototype={constructor:Ke,on:function(e,r){var n=this._,i=nu(e+"",n),o,a=-1,s=i.length;if(arguments.length<2){for(;++a<s;)if((o=(e=i[a]).type)&&(o=iu(n[o],e.name)))return o;return}if(r!=null&&typeof r!="function")throw new Error("invalid callback: "+r);for(;++a<s;)if(o=(e=i[a]).type)n[o]=fi(n[o],e.name,r);else if(r==null)for(o in n)n[o]=fi(n[o],e.name,null);return this},copy:function(){var e={},r=this._;for(var n in r)e[n]=r[n].slice();return new Ke(e)},call:function(e,r){if((o=arguments.length-2)>0)for(var n=new Array(o),i=0,o,a;i<o;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],i=0,o=a.length;i<o;++i)a[i].value.apply(r,n)},apply:function(e,r,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],o=0,a=i.length;o<a;++o)i[o].value.apply(r,n)}};function iu(e,r){for(var n=0,i=e.length,o;n<i;++n)if((o=e[n]).name===r)return o.value}function fi(e,r,n){for(var i=0,o=e.length;i<o;++i)if(e[i].name===r){e[i]=ru,e=e.slice(0,i).concat(e.slice(i+1));break}return n!=null&&e.push({name:r,value:n}),e}var Pt=li;var ci={passive:!1},Gt={capture:!0,passive:!1};function Je(e){e.stopImmediatePropagation()}function Lt(e){e.preventDefault(),e.stopImmediatePropagation()}function pe(e){var r=e.document.documentElement,n=st(e).on("dragstart.drag",Lt,Gt);"onselectstart"in r?n.on("selectstart.drag",Lt,Gt):(r.__noselect=r.style.MozUserSelect,r.style.MozUserSelect="none")}function de(e,r){var n=e.document.documentElement,i=st(e).on("dragstart.drag",null);r&&(i.on("click.drag",Lt,Gt),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var ge=e=>()=>e;function me(e,{sourceEvent:r,subject:n,target:i,identifier:o,active:a,x:s,y:u,dx:f,dy:l,dispatch:h}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:r,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:u,enumerable:!0,configurable:!0},dx:{value:f,enumerable:!0,configurable:!0},dy:{value:l,enumerable:!0,configurable:!0},_:{value:h}})}me.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function ou(e){return!e.ctrlKey&&!e.button}function au(){return this.parentNode}function su(e,r){return r??{x:e.x,y:e.y}}function uu(){return navigator.maxTouchPoints||"ontouchstart"in this}function Mr(){var e=ou,r=au,n=su,i=uu,o={},a=Pt("start","drag","end"),s=0,u,f,l,h,c=0;function p(_){_.on("mousedown.drag",d).filter(i).on("touchstart.drag",k).on("touchmove.drag",g,ci).on("touchend.drag touchcancel.drag",T).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(_,v){if(!(h||!e.call(this,_,v))){var C=O(this,r.call(this,_,v),_,v,"mouse");!C||(st(_.view).on("mousemove.drag",y,Gt).on("mouseup.drag",b,Gt),pe(_.view),Je(_),l=!1,u=_.clientX,f=_.clientY,C("start",_))}}function y(_){if(Lt(_),!l){var v=_.clientX-u,C=_.clientY-f;l=v*v+C*C>c}o.mouse("drag",_)}function b(_){st(_.view).on("mousemove.drag mouseup.drag",null),de(_.view,l),Lt(_),o.mouse("end",_)}function k(_,v){if(!!e.call(this,_,v)){var C=_.changedTouches,S=r.call(this,_,v),z=C.length,M,E;for(M=0;M<z;++M)(E=O(this,S,_,v,C[M].identifier,C[M]))&&(Je(_),E("start",_,C[M]))}}function g(_){var v=_.changedTouches,C=v.length,S,z;for(S=0;S<C;++S)(z=o[v[S].identifier])&&(Lt(_),z("drag",_,v[S]))}function T(_){var v=_.changedTouches,C=v.length,S,z;for(h&&clearTimeout(h),h=setTimeout(function(){h=null},500),S=0;S<C;++S)(z=o[v[S].identifier])&&(Je(_),z("end",_,v[S]))}function O(_,v,C,S,z,M){var E=a.copy(),U=vt(M||C,v),B,$,A;if((A=n.call(_,new me("beforestart",{sourceEvent:C,target:p,identifier:z,active:s,x:U[0],y:U[1],dx:0,dy:0,dispatch:E}),S))!=null)return B=A.x-U[0]||0,$=A.y-U[1]||0,function P(R,q,j){var D=U,H;switch(R){case"start":o[z]=P,H=s++;break;case"end":delete o[z],--s;case"drag":U=vt(j||q,v),H=s;break}E.call(R,_,new me(R,{sourceEvent:q,subject:A,target:p,identifier:z,active:H,x:U[0]+B,y:U[1]+$,dx:U[0]-D[0],dy:U[1]-D[1],dispatch:E}),S)}}return p.filter=function(_){return arguments.length?(e=typeof _=="function"?_:ge(!!_),p):e},p.container=function(_){return arguments.length?(r=typeof _=="function"?_:ge(_),p):r},p.subject=function(_){return arguments.length?(n=typeof _=="function"?_:ge(_),p):n},p.touchable=function(_){return arguments.length?(i=typeof _=="function"?_:ge(!!_),p):i},p.on=function(){var _=a.on.apply(a,arguments);return _===a?p:_},p.clickDistance=function(_){return arguments.length?(c=(_=+_)*_,p):Math.sqrt(c)},p}function tr(e,r,n){e.prototype=r.prototype=n,n.constructor=e}function Dr(e,r){var n=Object.create(e.prototype);for(var i in r)n[i]=r[i];return n}function ve(){}var xe=.7,nr=1/xe,Qt="\\s*([+-]?\\d+)\\s*",ye="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",zt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",fu=/^#([0-9a-f]{3,8})$/,lu=new RegExp(`^rgb\\(${Qt},${Qt},${Qt}\\)$`),cu=new RegExp(`^rgb\\(${zt},${zt},${zt}\\)$`),hu=new RegExp(`^rgba\\(${Qt},${Qt},${Qt},${ye}\\)$`),pu=new RegExp(`^rgba\\(${zt},${zt},${zt},${ye}\\)$`),du=new RegExp(`^hsl\\(${ye},${zt},${zt}\\)$`),gu=new RegExp(`^hsla\\(${ye},${zt},${zt},${ye}\\)$`),hi={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};tr(ve,Ft,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:pi,formatHex:pi,formatHex8:mu,formatHsl:xu,formatRgb:di,toString:di});function pi(){return this.rgb().formatHex()}function mu(){return this.rgb().formatHex8()}function xu(){return _i(this).formatHsl()}function di(){return this.rgb().formatRgb()}function Ft(e){var r,n;return e=(e+"").trim().toLowerCase(),(r=fu.exec(e))?(n=r[1].length,r=parseInt(r[1],16),n===6?gi(r):n===3?new pt(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):n===8?er(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):n===4?er(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=lu.exec(e))?new pt(r[1],r[2],r[3],1):(r=cu.exec(e))?new pt(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=hu.exec(e))?er(r[1],r[2],r[3],r[4]):(r=pu.exec(e))?er(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=du.exec(e))?yi(r[1],r[2]/100,r[3]/100,1):(r=gu.exec(e))?yi(r[1],r[2]/100,r[3]/100,r[4]):hi.hasOwnProperty(e)?gi(hi[e]):e==="transparent"?new pt(NaN,NaN,NaN,0):null}function gi(e){return new pt(e>>16&255,e>>8&255,e&255,1)}function er(e,r,n,i){return i<=0&&(e=r=n=NaN),new pt(e,r,n,i)}function yu(e){return e instanceof ve||(e=Ft(e)),e?(e=e.rgb(),new pt(e.r,e.g,e.b,e.opacity)):new pt}function Kt(e,r,n,i){return arguments.length===1?yu(e):new pt(e,r,n,i??1)}function pt(e,r,n,i){this.r=+e,this.g=+r,this.b=+n,this.opacity=+i}tr(pt,Kt,Dr(ve,{brighter(e){return e=e==null?nr:Math.pow(nr,e),new pt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?xe:Math.pow(xe,e),new pt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new pt(Vt(this.r),Vt(this.g),Vt(this.b),ir(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:mi,formatHex:mi,formatHex8:vu,formatRgb:xi,toString:xi}));function mi(){return`#${$t(this.r)}${$t(this.g)}${$t(this.b)}`}function vu(){return`#${$t(this.r)}${$t(this.g)}${$t(this.b)}${$t((isNaN(this.opacity)?1:this.opacity)*255)}`}function xi(){let e=ir(this.opacity);return`${e===1?"rgb(":"rgba("}${Vt(this.r)}, ${Vt(this.g)}, ${Vt(this.b)}${e===1?")":`, ${e})`}`}function ir(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Vt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function $t(e){return e=Vt(e),(e<16?"0":"")+e.toString(16)}function yi(e,r,n,i){return i<=0?e=r=n=NaN:n<=0||n>=1?e=r=NaN:r<=0&&(e=NaN),new St(e,r,n,i)}function _i(e){if(e instanceof St)return new St(e.h,e.s,e.l,e.opacity);if(e instanceof ve||(e=Ft(e)),!e)return new St;if(e instanceof St)return e;e=e.rgb();var r=e.r/255,n=e.g/255,i=e.b/255,o=Math.min(r,n,i),a=Math.max(r,n,i),s=NaN,u=a-o,f=(a+o)/2;return u?(r===a?s=(n-i)/u+(n<i)*6:n===a?s=(i-r)/u+2:s=(r-n)/u+4,u/=f<.5?a+o:2-a-o,s*=60):u=f>0&&f<1?0:s,new St(s,u,f,e.opacity)}function bi(e,r,n,i){return arguments.length===1?_i(e):new St(e,r,n,i??1)}function St(e,r,n,i){this.h=+e,this.s=+r,this.l=+n,this.opacity=+i}tr(St,bi,Dr(ve,{brighter(e){return e=e==null?nr:Math.pow(nr,e),new St(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?xe:Math.pow(xe,e),new St(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,r=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*r,o=2*n-i;return new pt(Lr(e>=240?e-240:e+120,o,i),Lr(e,o,i),Lr(e<120?e+240:e-120,o,i),this.opacity)},clamp(){return new St(vi(this.h),rr(this.s),rr(this.l),ir(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=ir(this.opacity);return`${e===1?"hsl(":"hsla("}${vi(this.h)}, ${rr(this.s)*100}%, ${rr(this.l)*100}%${e===1?")":`, ${e})`}`}}));function vi(e){return e=(e||0)%360,e<0?e+360:e}function rr(e){return Math.max(0,Math.min(1,e||0))}function Lr(e,r,n){return(e<60?r+(n-r)*e/60:e<180?n:e<240?r+(n-r)*(240-e)/60:r)*255}function Fr(e,r,n,i,o){var a=e*e,s=a*e;return((1-3*e+3*a-s)*r+(4-6*a+3*s)*n+(1+3*e+3*a-3*s)*i+s*o)/6}function wi(e){var r=e.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,r-1):Math.floor(n*r),o=e[i],a=e[i+1],s=i>0?e[i-1]:2*o-a,u=i<r-1?e[i+2]:2*a-o;return Fr((n-i/r)*r,s,o,a,u)}}function ki(e){var r=e.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*r),o=e[(i+r-1)%r],a=e[i%r],s=e[(i+1)%r],u=e[(i+2)%r];return Fr((n-i/r)*r,o,a,s,u)}}var qr=e=>()=>e;function _u(e,r){return function(n){return e+n*r}}function bu(e,r,n){return e=Math.pow(e,n),r=Math.pow(r,n)-e,n=1/n,function(i){return Math.pow(e+i*r,n)}}function Ai(e){return(e=+e)==1?or:function(r,n){return n-r?bu(r,n,e):qr(isNaN(r)?n:r)}}function or(e,r){var n=r-e;return n?_u(e,n):qr(isNaN(e)?r:e)}var ar=function e(r){var n=Ai(r);function i(o,a){var s=n((o=Kt(o)).r,(a=Kt(a)).r),u=n(o.g,a.g),f=n(o.b,a.b),l=or(o.opacity,a.opacity);return function(h){return o.r=s(h),o.g=u(h),o.b=f(h),o.opacity=l(h),o+""}}return i.gamma=e,i}(1);function Ci(e){return function(r){var n=r.length,i=new Array(n),o=new Array(n),a=new Array(n),s,u;for(s=0;s<n;++s)u=Kt(r[s]),i[s]=u.r||0,o[s]=u.g||0,a[s]=u.b||0;return i=e(i),o=e(o),a=e(a),u.opacity=1,function(f){return u.r=i(f),u.g=o(f),u.b=a(f),u+""}}}var wu=Ci(wi),ku=Ci(ki);function _t(e,r){return e=+e,r=+r,function(n){return e*(1-n)+r*n}}var Br=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ur=new RegExp(Br.source,"g");function Au(e){return function(){return e}}function Cu(e){return function(r){return e(r)+""}}function jr(e,r){var n=Br.lastIndex=Ur.lastIndex=0,i,o,a,s=-1,u=[],f=[];for(e=e+"",r=r+"";(i=Br.exec(e))&&(o=Ur.exec(r));)(a=o.index)>n&&(a=r.slice(n,a),u[s]?u[s]+=a:u[++s]=a),(i=i[0])===(o=o[0])?u[s]?u[s]+=o:u[++s]=o:(u[++s]=null,f.push({i:s,x:_t(i,o)})),n=Ur.lastIndex;return n<r.length&&(a=r.slice(n),u[s]?u[s]+=a:u[++s]=a),u.length<2?f[0]?Cu(f[0].x):Au(r):(r=f.length,function(l){for(var h=0,c;h<r;++h)u[(c=f[h]).i]=c.x(l);return u.join("")})}var Si=180/Math.PI,sr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Hr(e,r,n,i,o,a){var s,u,f;return(s=Math.sqrt(e*e+r*r))&&(e/=s,r/=s),(f=e*n+r*i)&&(n-=e*f,i-=r*f),(u=Math.sqrt(n*n+i*i))&&(n/=u,i/=u,f/=u),e*i<r*n&&(e=-e,r=-r,f=-f,s=-s),{translateX:o,translateY:a,rotate:Math.atan2(r,e)*Si,skewX:Math.atan(f)*Si,scaleX:s,scaleY:u}}var ur;function Ti(e){let r=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return r.isIdentity?sr:Hr(r.a,r.b,r.c,r.d,r.e,r.f)}function Oi(e){return e==null?sr:(ur||(ur=document.createElementNS("http://www.w3.org/2000/svg","g")),ur.setAttribute("transform",e),(e=ur.transform.baseVal.consolidate())?(e=e.matrix,Hr(e.a,e.b,e.c,e.d,e.e,e.f)):sr)}function zi(e,r,n,i){function o(l){return l.length?l.pop()+" ":""}function a(l,h,c,p,d,y){if(l!==c||h!==p){var b=d.push("translate(",null,r,null,n);y.push({i:b-4,x:_t(l,c)},{i:b-2,x:_t(h,p)})}else(c||p)&&d.push("translate("+c+r+p+n)}function s(l,h,c,p){l!==h?(l-h>180?h+=360:h-l>180&&(l+=360),p.push({i:c.push(o(c)+"rotate(",null,i)-2,x:_t(l,h)})):h&&c.push(o(c)+"rotate("+h+i)}function u(l,h,c,p){l!==h?p.push({i:c.push(o(c)+"skewX(",null,i)-2,x:_t(l,h)}):h&&c.push(o(c)+"skewX("+h+i)}function f(l,h,c,p,d,y){if(l!==c||h!==p){var b=d.push(o(d)+"scale(",null,",",null,")");y.push({i:b-4,x:_t(l,c)},{i:b-2,x:_t(h,p)})}else(c!==1||p!==1)&&d.push(o(d)+"scale("+c+","+p+")")}return function(l,h){var c=[],p=[];return l=e(l),h=e(h),a(l.translateX,l.translateY,h.translateX,h.translateY,c,p),s(l.rotate,h.rotate,c,p),u(l.skewX,h.skewX,c,p),f(l.scaleX,l.scaleY,h.scaleX,h.scaleY,c,p),l=h=null,function(d){for(var y=-1,b=p.length,k;++y<b;)c[(k=p[y]).i]=k.x(d);return c.join("")}}}var Gr=zi(Ti,"px, ","px)","deg)"),$r=zi(Oi,", ",")",")");var Su=1e-12;function Ri(e){return((e=Math.exp(e))+1/e)/2}function Tu(e){return((e=Math.exp(e))-1/e)/2}function Ou(e){return((e=Math.exp(2*e))-1)/(e+1)}var Vr=function e(r,n,i){function o(a,s){var u=a[0],f=a[1],l=a[2],h=s[0],c=s[1],p=s[2],d=h-u,y=c-f,b=d*d+y*y,k,g;if(b<Su)g=Math.log(p/l)/r,k=function(S){return[u+S*d,f+S*y,l*Math.exp(r*S*g)]};else{var T=Math.sqrt(b),O=(p*p-l*l+i*b)/(2*l*n*T),_=(p*p-l*l-i*b)/(2*p*n*T),v=Math.log(Math.sqrt(O*O+1)-O),C=Math.log(Math.sqrt(_*_+1)-_);g=(C-v)/r,k=function(S){var z=S*g,M=Ri(v),E=l/(n*T)*(M*Ou(r*z+v)-Tu(v));return[u+E*d,f+E*y,l*M/Ri(r*z+v)]}}return k.duration=g*1e3*r/Math.SQRT2,k}return o.rho=function(a){var s=Math.max(.001,+a),u=s*s,f=u*u;return e(s,u,f)},o}(Math.SQRT2,2,4);var Jt=0,be=0,_e=0,Ni=1e3,fr,we,lr=0,Yt=0,cr=0,ke=typeof performance=="object"&&performance.now?performance:Date,Pi=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Ce(){return Yt||(Pi(zu),Yt=ke.now()+cr)}function zu(){Yt=0}function Ae(){this._call=this._time=this._next=null}Ae.prototype=te.prototype={constructor:Ae,restart:function(e,r,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Ce():+n)+(r==null?0:+r),!this._next&&we!==this&&(we?we._next=this:fr=this,we=this),this._call=e,this._time=n,Yr()},stop:function(){this._call&&(this._call=null,this._time=1/0,Yr())}};function te(e,r,n){var i=new Ae;return i.restart(e,r,n),i}function Ei(){Ce(),++Jt;for(var e=fr,r;e;)(r=Yt-e._time)>=0&&e._call.call(void 0,r),e=e._next;--Jt}function Ii(){Yt=(lr=ke.now())+cr,Jt=be=0;try{Ei()}finally{Jt=0,Iu(),Yt=0}}function Ru(){var e=ke.now(),r=e-lr;r>Ni&&(cr-=r,lr=e)}function Iu(){for(var e,r=fr,n,i=1/0;r;)r._call?(i>r._time&&(i=r._time),e=r,r=r._next):(n=r._next,r._next=null,r=e?e._next=n:fr=n);we=e,Yr(i)}function Yr(e){if(!Jt){be&&(be=clearTimeout(be));var r=e-Yt;r>24?(e<1/0&&(be=setTimeout(Ii,e-ke.now()-cr)),_e&&(_e=clearInterval(_e))):(_e||(lr=ke.now(),_e=setInterval(Ru,Ni)),Jt=1,Pi(Ii))}}function hr(e,r,n){var i=new Ae;return r=r==null?0:+r,i.restart(o=>{i.stop(),e(o+r)},r,n),i}var Nu=Pt("start","end","cancel","interrupt"),Pu=[],Li=0,Mi=1,dr=2,pr=3,Di=4,gr=5,Se=6;function qt(e,r,n,i,o,a){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;Eu(e,n,{name:r,index:i,group:o,on:Nu,tween:Pu,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:Li})}function Te(e,r){var n=nt(e,r);if(n.state>Li)throw new Error("too late; already scheduled");return n}function at(e,r){var n=nt(e,r);if(n.state>pr)throw new Error("too late; already running");return n}function nt(e,r){var n=e.__transition;if(!n||!(n=n[r]))throw new Error("transition not found");return n}function Eu(e,r,n){var i=e.__transition,o;i[r]=n,n.timer=te(a,0,n.time);function a(l){n.state=Mi,n.timer.restart(s,n.delay,n.time),n.delay<=l&&s(l-n.delay)}function s(l){var h,c,p,d;if(n.state!==Mi)return f();for(h in i)if(d=i[h],d.name===n.name){if(d.state===pr)return hr(s);d.state===Di?(d.state=Se,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete i[h]):+h<r&&(d.state=Se,d.timer.stop(),d.on.call("cancel",e,e.__data__,d.index,d.group),delete i[h])}if(hr(function(){n.state===pr&&(n.state=Di,n.timer.restart(u,n.delay,n.time),u(l))}),n.state=dr,n.on.call("start",e,e.__data__,n.index,n.group),n.state===dr){for(n.state=pr,o=new Array(p=n.tween.length),h=0,c=-1;h<p;++h)(d=n.tween[h].value.call(e,e.__data__,n.index,n.group))&&(o[++c]=d);o.length=c+1}}function u(l){for(var h=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(f),n.state=gr,1),c=-1,p=o.length;++c<p;)o[c].call(e,h);n.state===gr&&(n.on.call("end",e,e.__data__,n.index,n.group),f())}function f(){n.state=Se,n.timer.stop(),delete i[r];for(var l in i)return;delete e.__transition}}function Xt(e,r){var n=e.__transition,i,o,a=!0,s;if(!!n){r=r==null?null:r+"";for(s in n){if((i=n[s]).name!==r){a=!1;continue}o=i.state>dr&&i.state<gr,i.state=Se,i.timer.stop(),i.on.call(o?"interrupt":"cancel",e,e.__data__,i.index,i.group),delete n[s]}a&&delete e.__transition}}function Fi(e){return this.each(function(){Xt(this,e)})}function Mu(e,r){var n,i;return function(){var o=at(this,e),a=o.tween;if(a!==n){i=n=a;for(var s=0,u=i.length;s<u;++s)if(i[s].name===r){i=i.slice(),i.splice(s,1);break}}o.tween=i}}function Du(e,r,n){var i,o;if(typeof n!="function")throw new Error;return function(){var a=at(this,e),s=a.tween;if(s!==i){o=(i=s).slice();for(var u={name:r,value:n},f=0,l=o.length;f<l;++f)if(o[f].name===r){o[f]=u;break}f===l&&o.push(u)}a.tween=o}}function qi(e,r){var n=this._id;if(e+="",arguments.length<2){for(var i=nt(this.node(),n).tween,o=0,a=i.length,s;o<a;++o)if((s=i[o]).name===e)return s.value;return null}return this.each((r==null?Mu:Du)(n,e,r))}function ee(e,r,n){var i=e._id;return e.each(function(){var o=at(this,i);(o.value||(o.value={}))[r]=n.apply(this,arguments)}),function(o){return nt(o,i).value[r]}}function mr(e,r){var n;return(typeof r=="number"?_t:r instanceof Ft?ar:(n=Ft(r))?(r=n,ar):jr)(e,r)}function Lu(e){return function(){this.removeAttribute(e)}}function Fu(e){return function(){this.removeAttributeNS(e.space,e.local)}}function qu(e,r,n){var i,o=n+"",a;return function(){var s=this.getAttribute(e);return s===o?null:s===i?a:a=r(i=s,n)}}function Uu(e,r,n){var i,o=n+"",a;return function(){var s=this.getAttributeNS(e.space,e.local);return s===o?null:s===i?a:a=r(i=s,n)}}function Bu(e,r,n){var i,o,a;return function(){var s,u=n(this),f;return u==null?void this.removeAttribute(e):(s=this.getAttribute(e),f=u+"",s===f?null:s===i&&f===o?a:(o=f,a=r(i=s,u)))}}function ju(e,r,n){var i,o,a;return function(){var s,u=n(this),f;return u==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),f=u+"",s===f?null:s===i&&f===o?a:(o=f,a=r(i=s,u)))}}function Ui(e,r){var n=It(e),i=n==="transform"?$r:mr;return this.attrTween(e,typeof r=="function"?(n.local?ju:Bu)(n,i,ee(this,"attr."+e,r)):r==null?(n.local?Fu:Lu)(n):(n.local?Uu:qu)(n,i,r))}function Hu(e,r){return function(n){this.setAttribute(e,r.call(this,n))}}function Gu(e,r){return function(n){this.setAttributeNS(e.space,e.local,r.call(this,n))}}function $u(e,r){var n,i;function o(){var a=r.apply(this,arguments);return a!==i&&(n=(i=a)&&Gu(e,a)),n}return o._value=r,o}function Vu(e,r){var n,i;function o(){var a=r.apply(this,arguments);return a!==i&&(n=(i=a)&&Hu(e,a)),n}return o._value=r,o}function Bi(e,r){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(r==null)return this.tween(n,null);if(typeof r!="function")throw new Error;var i=It(e);return this.tween(n,(i.local?$u:Vu)(i,r))}function Yu(e,r){return function(){Te(this,e).delay=+r.apply(this,arguments)}}function Xu(e,r){return r=+r,function(){Te(this,e).delay=r}}function ji(e){var r=this._id;return arguments.length?this.each((typeof e=="function"?Yu:Xu)(r,e)):nt(this.node(),r).delay}function Wu(e,r){return function(){at(this,e).duration=+r.apply(this,arguments)}}function Zu(e,r){return r=+r,function(){at(this,e).duration=r}}function Hi(e){var r=this._id;return arguments.length?this.each((typeof e=="function"?Wu:Zu)(r,e)):nt(this.node(),r).duration}function Qu(e,r){if(typeof r!="function")throw new Error;return function(){at(this,e).ease=r}}function Gi(e){var r=this._id;return arguments.length?this.each(Qu(r,e)):nt(this.node(),r).ease}function Ku(e,r){return function(){var n=r.apply(this,arguments);if(typeof n!="function")throw new Error;at(this,e).ease=n}}function $i(e){if(typeof e!="function")throw new Error;return this.each(Ku(this._id,e))}function Vi(e){typeof e!="function"&&(e=ce(e));for(var r=this._groups,n=r.length,i=new Array(n),o=0;o<n;++o)for(var a=r[o],s=a.length,u=i[o]=[],f,l=0;l<s;++l)(f=a[l])&&e.call(f,f.__data__,l,a)&&u.push(f);return new lt(i,this._parents,this._name,this._id)}function Yi(e){if(e._id!==this._id)throw new Error;for(var r=this._groups,n=e._groups,i=r.length,o=n.length,a=Math.min(i,o),s=new Array(i),u=0;u<a;++u)for(var f=r[u],l=n[u],h=f.length,c=s[u]=new Array(h),p,d=0;d<h;++d)(p=f[d]||l[d])&&(c[d]=p);for(;u<i;++u)s[u]=r[u];return new lt(s,this._parents,this._name,this._id)}function Ju(e){return(e+"").trim().split(/^|\s+/).every(function(r){var n=r.indexOf(".");return n>=0&&(r=r.slice(0,n)),!r||r==="start"})}function tf(e,r,n){var i,o,a=Ju(r)?Te:at;return function(){var s=a(this,e),u=s.on;u!==i&&(o=(i=u).copy()).on(r,n),s.on=o}}function Xi(e,r){var n=this._id;return arguments.length<2?nt(this.node(),n).on.on(e):this.each(tf(n,e,r))}function ef(e){return function(){var r=this.parentNode;for(var n in this.__transition)if(+n!==e)return;r&&r.removeChild(this)}}function Wi(){return this.on("end.remove",ef(this._id))}function Zi(e){var r=this._name,n=this._id;typeof e!="function"&&(e=Ht(e));for(var i=this._groups,o=i.length,a=new Array(o),s=0;s<o;++s)for(var u=i[s],f=u.length,l=a[s]=new Array(f),h,c,p=0;p<f;++p)(h=u[p])&&(c=e.call(h,h.__data__,p,u))&&("__data__"in h&&(c.__data__=h.__data__),l[p]=c,qt(l[p],r,n,p,l,nt(h,n)));return new lt(a,this._parents,r,n)}function Qi(e){var r=this._name,n=this._id;typeof e!="function"&&(e=le(e));for(var i=this._groups,o=i.length,a=[],s=[],u=0;u<o;++u)for(var f=i[u],l=f.length,h,c=0;c<l;++c)if(h=f[c]){for(var p=e.call(h,h.__data__,c,f),d,y=nt(h,n),b=0,k=p.length;b<k;++b)(d=p[b])&&qt(d,r,n,b,p,y);a.push(p),s.push(h)}return new lt(a,s,r,n)}var rf=Nt.prototype.constructor;function Ki(){return new rf(this._groups,this._parents)}function nf(e,r){var n,i,o;return function(){var a=Dt(this,e),s=(this.style.removeProperty(e),Dt(this,e));return a===s?null:a===n&&s===i?o:o=r(n=a,i=s)}}function Ji(e){return function(){this.style.removeProperty(e)}}function of(e,r,n){var i,o=n+"",a;return function(){var s=Dt(this,e);return s===o?null:s===i?a:a=r(i=s,n)}}function af(e,r,n){var i,o,a;return function(){var s=Dt(this,e),u=n(this),f=u+"";return u==null&&(f=u=(this.style.removeProperty(e),Dt(this,e))),s===f?null:s===i&&f===o?a:(o=f,a=r(i=s,u))}}function sf(e,r){var n,i,o,a="style."+r,s="end."+a,u;return function(){var f=at(this,e),l=f.on,h=f.value[a]==null?u||(u=Ji(r)):void 0;(l!==n||o!==h)&&(i=(n=l).copy()).on(s,o=h),f.on=i}}function to(e,r,n){var i=(e+="")=="transform"?Gr:mr;return r==null?this.styleTween(e,nf(e,i)).on("end.style."+e,Ji(e)):typeof r=="function"?this.styleTween(e,af(e,i,ee(this,"style."+e,r))).each(sf(this._id,e)):this.styleTween(e,of(e,i,r),n).on("end.style."+e,null)}function uf(e,r,n){return function(i){this.style.setProperty(e,r.call(this,i),n)}}function ff(e,r,n){var i,o;function a(){var s=r.apply(this,arguments);return s!==o&&(i=(o=s)&&uf(e,s,n)),i}return a._value=r,a}function eo(e,r,n){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(r==null)return this.tween(i,null);if(typeof r!="function")throw new Error;return this.tween(i,ff(e,r,n??""))}function lf(e){return function(){this.textContent=e}}function cf(e){return function(){var r=e(this);this.textContent=r??""}}function ro(e){return this.tween("text",typeof e=="function"?cf(ee(this,"text",e)):lf(e==null?"":e+""))}function hf(e){return function(r){this.textContent=e.call(this,r)}}function pf(e){var r,n;function i(){var o=e.apply(this,arguments);return o!==n&&(r=(n=o)&&hf(o)),r}return i._value=e,i}function no(e){var r="text";if(arguments.length<1)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,pf(e))}function io(){for(var e=this._name,r=this._id,n=xr(),i=this._groups,o=i.length,a=0;a<o;++a)for(var s=i[a],u=s.length,f,l=0;l<u;++l)if(f=s[l]){var h=nt(f,r);qt(f,e,n,l,s,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new lt(i,this._parents,e,n)}function oo(){var e,r,n=this,i=n._id,o=n.size();return new Promise(function(a,s){var u={value:s},f={value:function(){--o===0&&a()}};n.each(function(){var l=at(this,i),h=l.on;h!==e&&(r=(e=h).copy(),r._.cancel.push(u),r._.interrupt.push(u),r._.end.push(f)),l.on=r}),o===0&&a()})}var df=0;function lt(e,r,n,i){this._groups=e,this._parents=r,this._name=n,this._id=i}function ao(e){return Nt().transition(e)}function xr(){return++df}var Et=Nt.prototype;lt.prototype=ao.prototype={constructor:lt,select:Zi,selectAll:Qi,selectChild:Et.selectChild,selectChildren:Et.selectChildren,filter:Vi,merge:Yi,selection:Ki,transition:io,call:Et.call,nodes:Et.nodes,node:Et.node,size:Et.size,empty:Et.empty,each:Et.each,on:Xi,attr:Ui,attrTween:Bi,style:to,styleTween:eo,text:ro,textTween:no,remove:Wi,tween:qi,delay:ji,duration:Hi,ease:Gi,easeVarying:$i,end:oo,[Symbol.iterator]:Et[Symbol.iterator]};function yr(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var gf={time:null,delay:0,duration:250,ease:yr};function mf(e,r){for(var n;!(n=e.__transition)||!(n=n[r]);)if(!(e=e.parentNode))throw new Error(`transition ${r} not found`);return n}function so(e){var r,n;e instanceof lt?(r=e._id,e=e._name):(r=xr(),(n=gf).time=Ce(),e=e==null?null:e+"");for(var i=this._groups,o=i.length,a=0;a<o;++a)for(var s=i[a],u=s.length,f,l=0;l<u;++l)(f=s[l])&&qt(f,e,r,l,s,n||mf(f,r));return new lt(i,this._parents,e,r)}Nt.prototype.interrupt=Fi;Nt.prototype.transition=so;var Oe=e=>()=>e;function Xr(e,{sourceEvent:r,target:n,transform:i,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:r,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function Tt(e,r,n){this.k=e,this.x=r,this.y=n}Tt.prototype={constructor:Tt,scale:function(e){return e===1?this:new Tt(this.k*e,this.x,this.y)},translate:function(e,r){return e===0&r===0?this:new Tt(this.k,this.x+this.k*e,this.y+this.k*r)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ze=new Tt(1,0,0);mt.prototype=Tt.prototype;function mt(e){for(;!e.__zoom;)if(!(e=e.parentNode))return ze;return e.__zoom}function vr(e){e.stopImmediatePropagation()}function re(e){e.preventDefault(),e.stopImmediatePropagation()}function xf(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function yf(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function uo(){return this.__zoom||ze}function vf(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function _f(){return navigator.maxTouchPoints||"ontouchstart"in this}function bf(e,r,n){var i=e.invertX(r[0][0])-n[0][0],o=e.invertX(r[1][0])-n[1][0],a=e.invertY(r[0][1])-n[0][1],s=e.invertY(r[1][1])-n[1][1];return e.translate(o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o),s>a?(a+s)/2:Math.min(0,a)||Math.max(0,s))}function Wr(){var e=xf,r=yf,n=bf,i=vf,o=_f,a=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],u=250,f=Vr,l=Pt("start","zoom","end"),h,c,p,d=500,y=150,b=0,k=10;function g(A){A.property("__zoom",uo).on("wheel.zoom",z,{passive:!1}).on("mousedown.zoom",M).on("dblclick.zoom",E).filter(o).on("touchstart.zoom",U).on("touchmove.zoom",B).on("touchend.zoom touchcancel.zoom",$).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(A,P,R,q){var j=A.selection?A.selection():A;j.property("__zoom",uo),A!==j?v(A,P,R,q):j.interrupt().each(function(){C(this,arguments).event(q).start().zoom(null,typeof P=="function"?P.apply(this,arguments):P).end()})},g.scaleBy=function(A,P,R,q){g.scaleTo(A,function(){var j=this.__zoom.k,D=typeof P=="function"?P.apply(this,arguments):P;return j*D},R,q)},g.scaleTo=function(A,P,R,q){g.transform(A,function(){var j=r.apply(this,arguments),D=this.__zoom,H=R==null?_(j):typeof R=="function"?R.apply(this,arguments):R,G=D.invert(H),Z=typeof P=="function"?P.apply(this,arguments):P;return n(O(T(D,Z),H,G),j,s)},R,q)},g.translateBy=function(A,P,R,q){g.transform(A,function(){return n(this.__zoom.translate(typeof P=="function"?P.apply(this,arguments):P,typeof R=="function"?R.apply(this,arguments):R),r.apply(this,arguments),s)},null,q)},g.translateTo=function(A,P,R,q,j){g.transform(A,function(){var D=r.apply(this,arguments),H=this.__zoom,G=q==null?_(D):typeof q=="function"?q.apply(this,arguments):q;return n(ze.translate(G[0],G[1]).scale(H.k).translate(typeof P=="function"?-P.apply(this,arguments):-P,typeof R=="function"?-R.apply(this,arguments):-R),D,s)},q,j)};function T(A,P){return P=Math.max(a[0],Math.min(a[1],P)),P===A.k?A:new Tt(P,A.x,A.y)}function O(A,P,R){var q=P[0]-R[0]*A.k,j=P[1]-R[1]*A.k;return q===A.x&&j===A.y?A:new Tt(A.k,q,j)}function _(A){return[(+A[0][0]+ +A[1][0])/2,(+A[0][1]+ +A[1][1])/2]}function v(A,P,R,q){A.on("start.zoom",function(){C(this,arguments).event(q).start()}).on("interrupt.zoom end.zoom",function(){C(this,arguments).event(q).end()}).tween("zoom",function(){var j=this,D=arguments,H=C(j,D).event(q),G=r.apply(j,D),Z=R==null?_(G):typeof R=="function"?R.apply(j,D):R,rt=Math.max(G[1][0]-G[0][0],G[1][1]-G[0][1]),V=j.__zoom,ot=typeof P=="function"?P.apply(j,D):P,xt=f(V.invert(Z).concat(rt/V.k),ot.invert(Z).concat(rt/ot.k));return function(ht){if(ht===1)ht=ot;else{var tt=xt(ht),gt=rt/tt[2];ht=new Tt(gt,Z[0]-tt[0]*gt,Z[1]-tt[1]*gt)}H.zoom(null,ht)}})}function C(A,P,R){return!R&&A.__zooming||new S(A,P)}function S(A,P){this.that=A,this.args=P,this.active=0,this.sourceEvent=null,this.extent=r.apply(A,P),this.taps=0}S.prototype={event:function(A){return A&&(this.sourceEvent=A),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(A,P){return this.mouse&&A!=="mouse"&&(this.mouse[1]=P.invert(this.mouse[0])),this.touch0&&A!=="touch"&&(this.touch0[1]=P.invert(this.touch0[0])),this.touch1&&A!=="touch"&&(this.touch1[1]=P.invert(this.touch1[0])),this.that.__zoom=P,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(A){var P=st(this.that).datum();l.call(A,this.that,new Xr(A,{sourceEvent:this.sourceEvent,target:g,type:A,transform:this.that.__zoom,dispatch:l}),P)}};function z(A,...P){if(!e.apply(this,arguments))return;var R=C(this,P).event(A),q=this.__zoom,j=Math.max(a[0],Math.min(a[1],q.k*Math.pow(2,i.apply(this,arguments)))),D=vt(A);if(R.wheel)(R.mouse[0][0]!==D[0]||R.mouse[0][1]!==D[1])&&(R.mouse[1]=q.invert(R.mouse[0]=D)),clearTimeout(R.wheel);else{if(q.k===j)return;R.mouse=[D,q.invert(D)],Xt(this),R.start()}re(A),R.wheel=setTimeout(H,y),R.zoom("mouse",n(O(T(q,j),R.mouse[0],R.mouse[1]),R.extent,s));function H(){R.wheel=null,R.end()}}function M(A,...P){if(p||!e.apply(this,arguments))return;var R=A.currentTarget,q=C(this,P,!0).event(A),j=st(A.view).on("mousemove.zoom",Z,!0).on("mouseup.zoom",rt,!0),D=vt(A,R),H=A.clientX,G=A.clientY;pe(A.view),vr(A),q.mouse=[D,this.__zoom.invert(D)],Xt(this),q.start();function Z(V){if(re(V),!q.moved){var ot=V.clientX-H,xt=V.clientY-G;q.moved=ot*ot+xt*xt>b}q.event(V).zoom("mouse",n(O(q.that.__zoom,q.mouse[0]=vt(V,R),q.mouse[1]),q.extent,s))}function rt(V){j.on("mousemove.zoom mouseup.zoom",null),de(V.view,q.moved),re(V),q.event(V).end()}}function E(A,...P){if(!!e.apply(this,arguments)){var R=this.__zoom,q=vt(A.changedTouches?A.changedTouches[0]:A,this),j=R.invert(q),D=R.k*(A.shiftKey?.5:2),H=n(O(T(R,D),q,j),r.apply(this,P),s);re(A),u>0?st(this).transition().duration(u).call(v,H,q,A):st(this).call(g.transform,H,q,A)}}function U(A,...P){if(!!e.apply(this,arguments)){var R=A.touches,q=R.length,j=C(this,P,A.changedTouches.length===q).event(A),D,H,G,Z;for(vr(A),H=0;H<q;++H)G=R[H],Z=vt(G,this),Z=[Z,this.__zoom.invert(Z),G.identifier],j.touch0?!j.touch1&&j.touch0[2]!==Z[2]&&(j.touch1=Z,j.taps=0):(j.touch0=Z,D=!0,j.taps=1+!!h);h&&(h=clearTimeout(h)),D&&(j.taps<2&&(c=Z[0],h=setTimeout(function(){h=null},d)),Xt(this),j.start())}}function B(A,...P){if(!!this.__zooming){var R=C(this,P).event(A),q=A.changedTouches,j=q.length,D,H,G,Z;for(re(A),D=0;D<j;++D)H=q[D],G=vt(H,this),R.touch0&&R.touch0[2]===H.identifier?R.touch0[0]=G:R.touch1&&R.touch1[2]===H.identifier&&(R.touch1[0]=G);if(H=R.that.__zoom,R.touch1){var rt=R.touch0[0],V=R.touch0[1],ot=R.touch1[0],xt=R.touch1[1],ht=(ht=ot[0]-rt[0])*ht+(ht=ot[1]-rt[1])*ht,tt=(tt=xt[0]-V[0])*tt+(tt=xt[1]-V[1])*tt;H=T(H,Math.sqrt(ht/tt)),G=[(rt[0]+ot[0])/2,(rt[1]+ot[1])/2],Z=[(V[0]+xt[0])/2,(V[1]+xt[1])/2]}else if(R.touch0)G=R.touch0[0],Z=R.touch0[1];else return;R.zoom("touch",n(O(H,G,Z),R.extent,s))}}function $(A,...P){if(!!this.__zooming){var R=C(this,P).event(A),q=A.changedTouches,j=q.length,D,H;for(vr(A),p&&clearTimeout(p),p=setTimeout(function(){p=null},d),D=0;D<j;++D)H=q[D],R.touch0&&R.touch0[2]===H.identifier?delete R.touch0:R.touch1&&R.touch1[2]===H.identifier&&delete R.touch1;if(R.touch1&&!R.touch0&&(R.touch0=R.touch1,delete R.touch1),R.touch0)R.touch0[1]=this.__zoom.invert(R.touch0[0]);else if(R.end(),R.taps===2&&(H=vt(H,this),Math.hypot(c[0]-H[0],c[1]-H[1])<k)){var G=st(this).on("dblclick.zoom");G&&G.apply(this,arguments)}}}return g.wheelDelta=function(A){return arguments.length?(i=typeof A=="function"?A:Oe(+A),g):i},g.filter=function(A){return arguments.length?(e=typeof A=="function"?A:Oe(!!A),g):e},g.touchable=function(A){return arguments.length?(o=typeof A=="function"?A:Oe(!!A),g):o},g.extent=function(A){return arguments.length?(r=typeof A=="function"?A:Oe([[+A[0][0],+A[0][1]],[+A[1][0],+A[1][1]]]),g):r},g.scaleExtent=function(A){return arguments.length?(a[0]=+A[0],a[1]=+A[1],g):[a[0],a[1]]},g.translateExtent=function(A){return arguments.length?(s[0][0]=+A[0][0],s[1][0]=+A[1][0],s[0][1]=+A[0][1],s[1][1]=+A[1][1],g):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},g.constrain=function(A){return arguments.length?(n=A,g):n},g.duration=function(A){return arguments.length?(u=+A,g):u},g.interpolate=function(A){return arguments.length?(f=A,g):f},g.on=function(){var A=l.on.apply(l,arguments);return A===l?g:A},g.clickDistance=function(A){return arguments.length?(b=(A=+A)*A,g):Math.sqrt(b)},g.tapDistance=function(A){return arguments.length?(k=+A,g):k},g}var ne=class extends Map{constructor(r,n=Af){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),r!=null)for(let[i,o]of r)this.set(i,o)}get(r){return super.get(fo(this,r))}has(r){return super.has(fo(this,r))}set(r,n){return super.set(wf(this,r),n)}delete(r){return super.delete(kf(this,r))}};function fo({_intern:e,_key:r},n){let i=r(n);return e.has(i)?e.get(i):n}function wf({_intern:e,_key:r},n){let i=r(n);return e.has(i)?e.get(i):(e.set(i,n),n)}function kf({_intern:e,_key:r},n){let i=r(n);return e.has(i)&&(n=e.get(i),e.delete(i)),n}function Af(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Re(e,r){let n;if(r===void 0)for(let i of e)i!=null&&(n<i||n===void 0&&i>=i)&&(n=i);else{let i=-1;for(let o of e)(o=r(o,++i,e))!=null&&(n<o||n===void 0&&o>=o)&&(n=o)}return n}function Ie(e,r){let n;if(r===void 0)for(let i of e)i!=null&&(n>i||n===void 0&&i>=i)&&(n=i);else{let i=-1;for(let o of e)(o=r(o,++i,e))!=null&&(n>o||n===void 0&&o>=o)&&(n=o)}return n}var Ha=Rr(go());var Pe={Linear:{None:function(e){return e}},Quadratic:{In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}},Cubic:{In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},Quartic:{In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}},Quintic:{In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},Sinusoidal:{In:function(e){return 1-Math.cos(e*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return .5*(1-Math.cos(Math.PI*e))}},Exponential:{In:function(e){return e===0?0:Math.pow(1024,e-1)},Out:function(e){return e===1?1:1-Math.pow(2,-10*e)},InOut:function(e){return e===0?0:e===1?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)}},Circular:{In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},Elastic:{In:function(e){return e===0?0:e===1?1:-Math.pow(2,10*(e-1))*Math.sin((e-1.1)*5*Math.PI)},Out:function(e){return e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin((e-.1)*5*Math.PI)+1},InOut:function(e){return e===0?0:e===1?1:(e*=2,e<1?-.5*Math.pow(2,10*(e-1))*Math.sin((e-1.1)*5*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin((e-1.1)*5*Math.PI)+1)}},Back:{In:function(e){var r=1.70158;return e*e*((r+1)*e-r)},Out:function(e){var r=1.70158;return--e*e*((r+1)*e+r)+1},InOut:function(e){var r=2.5949095;return(e*=2)<1?.5*(e*e*((r+1)*e-r)):.5*((e-=2)*e*((r+1)*e+r)+2)}},Bounce:{In:function(e){return 1-Pe.Bounce.Out(1-e)},Out:function(e){return e<.36363636363636365?7.5625*e*e:e<.7272727272727273?7.5625*(e-=.5454545454545454)*e+.75:e<.9090909090909091?7.5625*(e-=.8181818181818182)*e+.9375:7.5625*(e-=.9545454545454546)*e+.984375},InOut:function(e){return e<.5?Pe.Bounce.In(e*2)*.5:Pe.Bounce.Out(e*2-1)*.5+.5}}},Ne;typeof self>"u"&&typeof process<"u"&&process.hrtime?Ne=function(){var e=process.hrtime();return e[0]*1e3+e[1]/1e6}:typeof self<"u"&&self.performance!==void 0&&self.performance.now!==void 0?Ne=self.performance.now.bind(self.performance):Date.now!==void 0?Ne=Date.now:Ne=function(){return new Date().getTime()};var Wt=Ne,mo=function(){function e(){this._tweens={},this._tweensAddedDuringUpdate={}}return e.prototype.getAll=function(){var r=this;return Object.keys(this._tweens).map(function(n){return r._tweens[n]})},e.prototype.removeAll=function(){this._tweens={}},e.prototype.add=function(r){this._tweens[r.getId()]=r,this._tweensAddedDuringUpdate[r.getId()]=r},e.prototype.remove=function(r){delete this._tweens[r.getId()],delete this._tweensAddedDuringUpdate[r.getId()]},e.prototype.update=function(r,n){r===void 0&&(r=Wt()),n===void 0&&(n=!1);var i=Object.keys(this._tweens);if(i.length===0)return!1;for(;i.length>0;){this._tweensAddedDuringUpdate={};for(var o=0;o<i.length;o++){var a=this._tweens[i[o]],s=!n;a&&a.update(r,s)===!1&&!n&&delete this._tweens[i[o]]}i=Object.keys(this._tweensAddedDuringUpdate)}return!0},e}(),ie={Linear:function(e,r){var n=e.length-1,i=n*r,o=Math.floor(i),a=ie.Utils.Linear;return r<0?a(e[0],e[1],i):r>1?a(e[n],e[n-1],n-i):a(e[o],e[o+1>n?n:o+1],i-o)},Bezier:function(e,r){for(var n=0,i=e.length-1,o=Math.pow,a=ie.Utils.Bernstein,s=0;s<=i;s++)n+=o(1-r,i-s)*o(r,s)*e[s]*a(i,s);return n},CatmullRom:function(e,r){var n=e.length-1,i=n*r,o=Math.floor(i),a=ie.Utils.CatmullRom;return e[0]===e[n]?(r<0&&(o=Math.floor(i=n*(1+r))),a(e[(o-1+n)%n],e[o],e[(o+1)%n],e[(o+2)%n],i-o)):r<0?e[0]-(a(e[0],e[0],e[1],e[1],-i)-e[0]):r>1?e[n]-(a(e[n],e[n],e[n-1],e[n-1],i-n)-e[n]):a(e[o?o-1:0],e[o],e[n<o+1?n:o+1],e[n<o+2?n:o+2],i-o)},Utils:{Linear:function(e,r,n){return(r-e)*n+e},Bernstein:function(e,r){var n=ie.Utils.Factorial;return n(e)/n(r)/n(e-r)},Factorial:function(){var e=[1];return function(r){var n=1;if(e[r])return e[r];for(var i=r;i>1;i--)n*=i;return e[r]=n,n}}(),CatmullRom:function(e,r,n,i,o){var a=(n-e)*.5,s=(i-r)*.5,u=o*o,f=o*u;return(2*r-2*n+a+s)*f+(-3*r+3*n-2*a-s)*u+a*o+r}}},Qr=function(){function e(){}return e.nextId=function(){return e._nextId++},e._nextId=0,e}(),xo=new mo,jf=function(){function e(r,n){n===void 0&&(n=xo),this._object=r,this._group=n,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=Pe.Linear.None,this._interpolationFunction=ie.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._id=Qr.nextId(),this._isChainStopped=!1,this._goToEnd=!1}return e.prototype.getId=function(){return this._id},e.prototype.isPlaying=function(){return this._isPlaying},e.prototype.isPaused=function(){return this._isPaused},e.prototype.to=function(r,n){return this._valuesEnd=Object.create(r),n!==void 0&&(this._duration=n),this},e.prototype.duration=function(r){return this._duration=r,this},e.prototype.start=function(r){if(this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var n in this._valuesStartRepeat)this._swapEndStartRepeatValues(n),this._valuesStart[n]=this._valuesStartRepeat[n]}return this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=r!==void 0?typeof r=="string"?Wt()+parseFloat(r):r:Wt(),this._startTime+=this._delayTime,this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat),this},e.prototype._setupProperties=function(r,n,i,o){for(var a in i){var s=r[a],u=Array.isArray(s),f=u?"array":typeof s,l=!u&&Array.isArray(i[a]);if(!(f==="undefined"||f==="function")){if(l){var h=i[a];if(h.length===0)continue;h=h.map(this._handleRelativeValue.bind(this,s)),i[a]=[s].concat(h)}if((f==="object"||u)&&s&&!l){n[a]=u?[]:{};for(var c in s)n[a][c]=s[c];o[a]=u?[]:{},this._setupProperties(s,n[a],i[a],o[a])}else typeof n[a]>"u"&&(n[a]=s),u||(n[a]*=1),l?o[a]=i[a].slice().reverse():o[a]=n[a]||0}}},e.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},e.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},e.prototype.pause=function(r){return r===void 0&&(r=Wt()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=r,this._group&&this._group.remove(this),this)},e.prototype.resume=function(r){return r===void 0&&(r=Wt()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=r-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this)},e.prototype.stopChainedTweens=function(){for(var r=0,n=this._chainedTweens.length;r<n;r++)this._chainedTweens[r].stop();return this},e.prototype.group=function(r){return this._group=r,this},e.prototype.delay=function(r){return this._delayTime=r,this},e.prototype.repeat=function(r){return this._initialRepeat=r,this._repeat=r,this},e.prototype.repeatDelay=function(r){return this._repeatDelayTime=r,this},e.prototype.yoyo=function(r){return this._yoyo=r,this},e.prototype.easing=function(r){return this._easingFunction=r,this},e.prototype.interpolation=function(r){return this._interpolationFunction=r,this},e.prototype.chain=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return this._chainedTweens=r,this},e.prototype.onStart=function(r){return this._onStartCallback=r,this},e.prototype.onUpdate=function(r){return this._onUpdateCallback=r,this},e.prototype.onRepeat=function(r){return this._onRepeatCallback=r,this},e.prototype.onComplete=function(r){return this._onCompleteCallback=r,this},e.prototype.onStop=function(r){return this._onStopCallback=r,this},e.prototype.update=function(r,n){if(r===void 0&&(r=Wt()),n===void 0&&(n=!0),this._isPaused)return!0;var i,o,a=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(r>a)return!1;n&&this.start(r)}if(this._goToEnd=!1,r<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),o=(r-this._startTime)/this._duration,o=this._duration===0||o>1?1:o;var s=this._easingFunction(o);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,s),this._onUpdateCallback&&this._onUpdateCallback(this._object,o),o===1)if(this._repeat>0){isFinite(this._repeat)&&this._repeat--;for(i in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[i]=="string"&&(this._valuesStartRepeat[i]=this._valuesStartRepeat[i]+parseFloat(this._valuesEnd[i])),this._yoyo&&this._swapEndStartRepeatValues(i),this._valuesStart[i]=this._valuesStartRepeat[i];return this._yoyo&&(this._reversed=!this._reversed),this._repeatDelayTime!==void 0?this._startTime=r+this._repeatDelayTime:this._startTime=r+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var u=0,f=this._chainedTweens.length;u<f;u++)this._chainedTweens[u].start(this._startTime+this._duration);return this._isPlaying=!1,!1}return!0},e.prototype._updateProperties=function(r,n,i,o){for(var a in i)if(n[a]!==void 0){var s=n[a]||0,u=i[a],f=Array.isArray(r[a]),l=Array.isArray(u),h=!f&&l;h?r[a]=this._interpolationFunction(u,o):typeof u=="object"&&u?this._updateProperties(r[a],s,u,o):(u=this._handleRelativeValue(s,u),typeof u=="number"&&(r[a]=s+(u-s)*o))}},e.prototype._handleRelativeValue=function(r,n){return typeof n!="string"?n:n.charAt(0)==="+"||n.charAt(0)==="-"?r+parseFloat(n):parseFloat(n)},e.prototype._swapEndStartRepeatValues=function(r){var n=this._valuesStartRepeat[r],i=this._valuesEnd[r];typeof i=="string"?this._valuesStartRepeat[r]=this._valuesStartRepeat[r]+parseFloat(i):this._valuesStartRepeat[r]=this._valuesEnd[r],this._valuesEnd[r]=n},e}(),Hf="18.6.4",Gf=Qr.nextId,Rt=xo,$f=Rt.getAll.bind(Rt),Vf=Rt.removeAll.bind(Rt),Yf=Rt.add.bind(Rt),Xf=Rt.remove.bind(Rt),Wf=Rt.update.bind(Rt),Zf={Easing:Pe,Group:mo,Interpolation:ie,now:Wt,Sequence:Qr,nextId:Gf,Tween:jf,VERSION:Hf,getAll:$f,removeAll:Vf,add:Yf,remove:Xf,update:Wf},oe=Zf;var wo=Rr(vo());function Qf(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _o(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Kf(e,r,n){return r&&_o(e.prototype,r),n&&_o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Jf(e,r){return tl(e)||el(e,r)||rl(e,r)||nl()}function tl(e){if(Array.isArray(e))return e}function el(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i=[],o=!0,a=!1,s,u;try{for(n=n.call(e);!(o=(s=n.next()).done)&&(i.push(s.value),!(r&&i.length===r));o=!0);}catch(f){a=!0,u=f}finally{try{!o&&n.return!=null&&n.return()}finally{if(a)throw u}}return i}}function rl(e,r){if(!!e){if(typeof e=="string")return bo(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bo(e,r)}}function bo(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,i=new Array(r);n<r;n++)i[n]=e[n];return i}function nl(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var il=Kf(function e(r,n){var i=n.default,o=i===void 0?null:i,a=n.triggerUpdate,s=a===void 0?!0:a,u=n.onChange,f=u===void 0?function(l,h){}:u;Qf(this,e),this.name=r,this.defaultVal=o,this.triggerUpdate=s,this.onChange=f});function Jr(e){var r=e.stateInit,n=r===void 0?function(){return{}}:r,i=e.props,o=i===void 0?{}:i,a=e.methods,s=a===void 0?{}:a,u=e.aliases,f=u===void 0?{}:u,l=e.init,h=l===void 0?function(){}:l,c=e.update,p=c===void 0?function(){}:c,d=Object.keys(o).map(function(y){return new il(y,o[y])});return function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},b=Object.assign({},n instanceof Function?n(y):n,{initialised:!1}),k={};function g(_){return T(_,y),O(),g}var T=function(v,C){h.call(g,v,b,C),b.initialised=!0},O=(0,wo.default)(function(){!b.initialised||(p.call(g,b,k),k={})},1);return d.forEach(function(_){g[_.name]=v(_);function v(C){var S=C.name,z=C.triggerUpdate,M=z===void 0?!1:z,E=C.onChange,U=E===void 0?function(A,P){}:E,B=C.defaultVal,$=B===void 0?null:B;return function(A){var P=b[S];if(!arguments.length)return P;var R=A===void 0?$:A;return b[S]=R,U.call(g,R,b,P),!k.hasOwnProperty(S)&&(k[S]=P),M&&O(),g}}}),Object.keys(s).forEach(function(_){g[_]=function(){for(var v,C=arguments.length,S=new Array(C),z=0;z<C;z++)S[z]=arguments[z];return(v=s[_]).call.apply(v,[g,b].concat(S))}}),Object.entries(f).forEach(function(_){var v=Jf(_,2),C=v[0],S=v[1];return g[C]=g[S]}),g.resetProps=function(){return d.forEach(function(_){g[_.name](_.defaultVal)}),g},g.resetProps(),b._rerender=O,g}}var ol=function(e){return e instanceof Function?e:typeof e=="string"?function(r){return r[e]}:function(r){return e}},Q=ol;var So=Rr(ko());function al(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ao(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function sl(e,r,n){return r&&Ao(e.prototype,r),n&&Ao(e,n),e}function ul(e){return fl(e)||ll(e)||cl(e)||hl()}function fl(e){if(Array.isArray(e))return tn(e)}function ll(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function cl(e,r){if(!!e){if(typeof e=="string")return tn(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tn(e,r)}}function tn(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,i=new Array(r);n<r;n++)i[n]=e[n];return i}function hl(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var pl=123,dl=function(r){return"#".concat(Math.min(r,Math.pow(2,24)).toString(16).padStart(6,"0"))},To=function(r,n,i){return(r<<16)+(n<<8)+i},gl=function(r){var n=(0,So.default)(r).toRgb(),i=n.r,o=n.g,a=n.b;return To(i,o,a)},Co=function(r,n){return r*pl%Math.pow(2,n)},ml=function(){function e(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:6;al(this,e),this.csBits=r,this.registry=["__reserved for background__"]}return sl(e,[{key:"register",value:function(n){if(this.registry.length>=Math.pow(2,24-this.csBits))return null;var i=this.registry.length,o=Co(i,this.csBits),a=dl(i+(o<<24-this.csBits));return this.registry.push(n),a}},{key:"lookup",value:function(n){var i=typeof n=="string"?gl(n):To.apply(void 0,ul(n));if(!i)return null;var o=i&Math.pow(2,24-this.csBits)-1,a=i>>24-this.csBits&Math.pow(2,this.csBits)-1;return Co(o,this.csBits)!==a||o>=this.registry.length?null:this.registry[o]}}]),e}(),Oo=ml;function en(e,r,n){var i,o=1;e==null&&(e=0),r==null&&(r=0),n==null&&(n=0);function a(){var s,u=i.length,f,l=0,h=0,c=0;for(s=0;s<u;++s)f=i[s],l+=f.x||0,h+=f.y||0,c+=f.z||0;for(l=(l/u-e)*o,h=(h/u-r)*o,c=(c/u-n)*o,s=0;s<u;++s)f=i[s],l&&(f.x-=l),h&&(f.y-=h),c&&(f.z-=c)}return a.initialize=function(s){i=s},a.x=function(s){return arguments.length?(e=+s,a):e},a.y=function(s){return arguments.length?(r=+s,a):r},a.z=function(s){return arguments.length?(n=+s,a):n},a.strength=function(s){return arguments.length?(o=+s,a):o},a}function zo(e){var r=+this._x.call(null,e);return Ro(this.cover(r),r,e)}function Ro(e,r,n){if(isNaN(r))return e;var i,o=e._root,a={data:n},s=e._x0,u=e._x1,f,l,h,c,p;if(!o)return e._root=a,e;for(;o.length;)if((h=r>=(f=(s+u)/2))?s=f:u=f,i=o,!(o=o[c=+h]))return i[c]=a,e;if(l=+e._x.call(null,o.data),r===l)return a.next=o,i?i[c]=a:e._root=a,e;do i=i?i[c]=new Array(2):e._root=new Array(2),(h=r>=(f=(s+u)/2))?s=f:u=f;while((c=+h)==(p=+(l>=f)));return i[p]=o,i[c]=a,e}function Io(e){var r,n=e.length,i,o=new Array(n),a=1/0,s=-1/0;for(r=0;r<n;++r)isNaN(i=+this._x.call(null,e[r]))||(o[r]=i,i<a&&(a=i),i>s&&(s=i));if(a>s)return this;for(this.cover(a).cover(s),r=0;r<n;++r)Ro(this,o[r],e[r]);return this}function No(e){if(isNaN(e=+e))return this;var r=this._x0,n=this._x1;if(isNaN(r))n=(r=Math.floor(e))+1;else{for(var i=n-r||1,o=this._root,a,s;r>e||e>=n;)switch(s=+(e<r),a=new Array(2),a[s]=o,o=a,i*=2,s){case 0:n=r+i;break;case 1:r=n-i;break}this._root&&this._root.length&&(this._root=o)}return this._x0=r,this._x1=n,this}function Po(){var e=[];return this.visit(function(r){if(!r.length)do e.push(r.data);while(r=r.next)}),e}function Eo(e){return arguments.length?this.cover(+e[0][0]).cover(+e[1][0]):isNaN(this._x0)?void 0:[[this._x0],[this._x1]]}function bt(e,r,n){this.node=e,this.x0=r,this.x1=n}function Mo(e,r){var n,i=this._x0,o,a,s=this._x1,u=[],f=this._root,l,h;for(f&&u.push(new bt(f,i,s)),r==null?r=1/0:(i=e-r,s=e+r);l=u.pop();)if(!(!(f=l.node)||(o=l.x0)>s||(a=l.x1)<i))if(f.length){var c=(o+a)/2;u.push(new bt(f[1],c,a),new bt(f[0],o,c)),(h=+(e>=c))&&(l=u[u.length-1],u[u.length-1]=u[u.length-1-h],u[u.length-1-h]=l)}else{var p=Math.abs(e-+this._x.call(null,f.data));p<r&&(r=p,i=e-p,s=e+p,n=f.data)}return n}function Do(e){if(isNaN(f=+this._x.call(null,e)))return this;var r,n=this._root,i,o,a,s=this._x0,u=this._x1,f,l,h,c,p;if(!n)return this;if(n.length)for(;;){if((h=f>=(l=(s+u)/2))?s=l:u=l,r=n,!(n=n[c=+h]))return this;if(!n.length)break;r[c+1&1]&&(i=r,p=c)}for(;n.data!==e;)if(o=n,!(n=n.next))return this;return(a=n.next)&&delete n.next,o?(a?o.next=a:delete o.next,this):r?(a?r[c]=a:delete r[c],(n=r[0]||r[1])&&n===(r[1]||r[0])&&!n.length&&(i?i[p]=n:this._root=n),this):(this._root=a,this)}function Lo(e){for(var r=0,n=e.length;r<n;++r)this.remove(e[r]);return this}function Fo(){return this._root}function qo(){var e=0;return this.visit(function(r){if(!r.length)do++e;while(r=r.next)}),e}function Uo(e){var r=[],n,i=this._root,o,a,s;for(i&&r.push(new bt(i,this._x0,this._x1));n=r.pop();)if(!e(i=n.node,a=n.x0,s=n.x1)&&i.length){var u=(a+s)/2;(o=i[1])&&r.push(new bt(o,u,s)),(o=i[0])&&r.push(new bt(o,a,u))}return this}function Bo(e){var r=[],n=[],i;for(this._root&&r.push(new bt(this._root,this._x0,this._x1));i=r.pop();){var o=i.node;if(o.length){var a,s=i.x0,u=i.x1,f=(s+u)/2;(a=o[0])&&r.push(new bt(a,s,f)),(a=o[1])&&r.push(new bt(a,f,u))}n.push(i)}for(;i=n.pop();)e(i.node,i.x0,i.x1);return this}function jo(e){return e[0]}function Ho(e){return arguments.length?(this._x=e,this):this._x}function Ee(e,r){var n=new rn(r??jo,NaN,NaN);return e==null?n:n.addAll(e)}function rn(e,r,n){this._x=e,this._x0=r,this._x1=n,this._root=void 0}function Go(e){for(var r={data:e.data},n=r;e=e.next;)n=n.next={data:e.data};return r}var dt=Ee.prototype=rn.prototype;dt.copy=function(){var e=new rn(this._x,this._x0,this._x1),r=this._root,n,i;if(!r)return e;if(!r.length)return e._root=Go(r),e;for(n=[{source:r,target:e._root=new Array(2)}];r=n.pop();)for(var o=0;o<2;++o)(i=r.source[o])&&(i.length?n.push({source:i,target:r.target[o]=new Array(2)}):r.target[o]=Go(i));return e};dt.add=zo;dt.addAll=Io;dt.cover=No;dt.data=Po;dt.extent=Eo;dt.find=Mo;dt.remove=Do;dt.removeAll=Lo;dt.root=Fo;dt.size=qo;dt.visit=Uo;dt.visitAfter=Bo;dt.x=Ho;function $o(e){let r=+this._x.call(null,e),n=+this._y.call(null,e);return Vo(this.cover(r,n),r,n,e)}function Vo(e,r,n,i){if(isNaN(r)||isNaN(n))return e;var o,a=e._root,s={data:i},u=e._x0,f=e._y0,l=e._x1,h=e._y1,c,p,d,y,b,k,g,T;if(!a)return e._root=s,e;for(;a.length;)if((b=r>=(c=(u+l)/2))?u=c:l=c,(k=n>=(p=(f+h)/2))?f=p:h=p,o=a,!(a=a[g=k<<1|b]))return o[g]=s,e;if(d=+e._x.call(null,a.data),y=+e._y.call(null,a.data),r===d&&n===y)return s.next=a,o?o[g]=s:e._root=s,e;do o=o?o[g]=new Array(4):e._root=new Array(4),(b=r>=(c=(u+l)/2))?u=c:l=c,(k=n>=(p=(f+h)/2))?f=p:h=p;while((g=k<<1|b)===(T=(y>=p)<<1|d>=c));return o[T]=a,o[g]=s,e}function Yo(e){var r,n,i=e.length,o,a,s=new Array(i),u=new Array(i),f=1/0,l=1/0,h=-1/0,c=-1/0;for(n=0;n<i;++n)isNaN(o=+this._x.call(null,r=e[n]))||isNaN(a=+this._y.call(null,r))||(s[n]=o,u[n]=a,o<f&&(f=o),o>h&&(h=o),a<l&&(l=a),a>c&&(c=a));if(f>h||l>c)return this;for(this.cover(f,l).cover(h,c),n=0;n<i;++n)Vo(this,s[n],u[n],e[n]);return this}function Xo(e,r){if(isNaN(e=+e)||isNaN(r=+r))return this;var n=this._x0,i=this._y0,o=this._x1,a=this._y1;if(isNaN(n))o=(n=Math.floor(e))+1,a=(i=Math.floor(r))+1;else{for(var s=o-n||1,u=this._root,f,l;n>e||e>=o||i>r||r>=a;)switch(l=(r<i)<<1|e<n,f=new Array(4),f[l]=u,u=f,s*=2,l){case 0:o=n+s,a=i+s;break;case 1:n=o-s,a=i+s;break;case 2:o=n+s,i=a-s;break;case 3:n=o-s,i=a-s;break}this._root&&this._root.length&&(this._root=u)}return this._x0=n,this._y0=i,this._x1=o,this._y1=a,this}function Wo(){var e=[];return this.visit(function(r){if(!r.length)do e.push(r.data);while(r=r.next)}),e}function Zo(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function it(e,r,n,i,o){this.node=e,this.x0=r,this.y0=n,this.x1=i,this.y1=o}function Qo(e,r,n){var i,o=this._x0,a=this._y0,s,u,f,l,h=this._x1,c=this._y1,p=[],d=this._root,y,b;for(d&&p.push(new it(d,o,a,h,c)),n==null?n=1/0:(o=e-n,a=r-n,h=e+n,c=r+n,n*=n);y=p.pop();)if(!(!(d=y.node)||(s=y.x0)>h||(u=y.y0)>c||(f=y.x1)<o||(l=y.y1)<a))if(d.length){var k=(s+f)/2,g=(u+l)/2;p.push(new it(d[3],k,g,f,l),new it(d[2],s,g,k,l),new it(d[1],k,u,f,g),new it(d[0],s,u,k,g)),(b=(r>=g)<<1|e>=k)&&(y=p[p.length-1],p[p.length-1]=p[p.length-1-b],p[p.length-1-b]=y)}else{var T=e-+this._x.call(null,d.data),O=r-+this._y.call(null,d.data),_=T*T+O*O;if(_<n){var v=Math.sqrt(n=_);o=e-v,a=r-v,h=e+v,c=r+v,i=d.data}}return i}function Ko(e){if(isNaN(h=+this._x.call(null,e))||isNaN(c=+this._y.call(null,e)))return this;var r,n=this._root,i,o,a,s=this._x0,u=this._y0,f=this._x1,l=this._y1,h,c,p,d,y,b,k,g;if(!n)return this;if(n.length)for(;;){if((y=h>=(p=(s+f)/2))?s=p:f=p,(b=c>=(d=(u+l)/2))?u=d:l=d,r=n,!(n=n[k=b<<1|y]))return this;if(!n.length)break;(r[k+1&3]||r[k+2&3]||r[k+3&3])&&(i=r,g=k)}for(;n.data!==e;)if(o=n,!(n=n.next))return this;return(a=n.next)&&delete n.next,o?(a?o.next=a:delete o.next,this):r?(a?r[k]=a:delete r[k],(n=r[0]||r[1]||r[2]||r[3])&&n===(r[3]||r[2]||r[1]||r[0])&&!n.length&&(i?i[g]=n:this._root=n),this):(this._root=a,this)}function Jo(e){for(var r=0,n=e.length;r<n;++r)this.remove(e[r]);return this}function ta(){return this._root}function ea(){var e=0;return this.visit(function(r){if(!r.length)do++e;while(r=r.next)}),e}function ra(e){var r=[],n,i=this._root,o,a,s,u,f;for(i&&r.push(new it(i,this._x0,this._y0,this._x1,this._y1));n=r.pop();)if(!e(i=n.node,a=n.x0,s=n.y0,u=n.x1,f=n.y1)&&i.length){var l=(a+u)/2,h=(s+f)/2;(o=i[3])&&r.push(new it(o,l,h,u,f)),(o=i[2])&&r.push(new it(o,a,h,l,f)),(o=i[1])&&r.push(new it(o,l,s,u,h)),(o=i[0])&&r.push(new it(o,a,s,l,h))}return this}function na(e){var r=[],n=[],i;for(this._root&&r.push(new it(this._root,this._x0,this._y0,this._x1,this._y1));i=r.pop();){var o=i.node;if(o.length){var a,s=i.x0,u=i.y0,f=i.x1,l=i.y1,h=(s+f)/2,c=(u+l)/2;(a=o[0])&&r.push(new it(a,s,u,h,c)),(a=o[1])&&r.push(new it(a,h,u,f,c)),(a=o[2])&&r.push(new it(a,s,c,h,l)),(a=o[3])&&r.push(new it(a,h,c,f,l))}n.push(i)}for(;i=n.pop();)e(i.node,i.x0,i.y0,i.x1,i.y1);return this}function ia(e){return e[0]}function oa(e){return arguments.length?(this._x=e,this):this._x}function aa(e){return e[1]}function sa(e){return arguments.length?(this._y=e,this):this._y}function Me(e,r,n){var i=new nn(r??ia,n??aa,NaN,NaN,NaN,NaN);return e==null?i:i.addAll(e)}function nn(e,r,n,i,o,a){this._x=e,this._y=r,this._x0=n,this._y0=i,this._x1=o,this._y1=a,this._root=void 0}function ua(e){for(var r={data:e.data},n=r;e=e.next;)n=n.next={data:e.data};return r}var ct=Me.prototype=nn.prototype;ct.copy=function(){var e=new nn(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root,n,i;if(!r)return e;if(!r.length)return e._root=ua(r),e;for(n=[{source:r,target:e._root=new Array(4)}];r=n.pop();)for(var o=0;o<4;++o)(i=r.source[o])&&(i.length?n.push({source:i,target:r.target[o]=new Array(4)}):r.target[o]=ua(i));return e};ct.add=$o;ct.addAll=Yo;ct.cover=Xo;ct.data=Wo;ct.extent=Zo;ct.find=Qo;ct.remove=Ko;ct.removeAll=Jo;ct.root=ta;ct.size=ea;ct.visit=ra;ct.visitAfter=na;ct.x=oa;ct.y=sa;function fa(e){var r=+this._x.call(null,e),n=+this._y.call(null,e),i=+this._z.call(null,e);return la(this.cover(r,n,i),r,n,i,e)}function la(e,r,n,i,o){if(isNaN(r)||isNaN(n)||isNaN(i))return e;var a,s=e._root,u={data:o},f=e._x0,l=e._y0,h=e._z0,c=e._x1,p=e._y1,d=e._z1,y,b,k,g,T,O,_,v,C,S,z;if(!s)return e._root=u,e;for(;s.length;)if((_=r>=(y=(f+c)/2))?f=y:c=y,(v=n>=(b=(l+p)/2))?l=b:p=b,(C=i>=(k=(h+d)/2))?h=k:d=k,a=s,!(s=s[S=C<<2|v<<1|_]))return a[S]=u,e;if(g=+e._x.call(null,s.data),T=+e._y.call(null,s.data),O=+e._z.call(null,s.data),r===g&&n===T&&i===O)return u.next=s,a?a[S]=u:e._root=u,e;do a=a?a[S]=new Array(8):e._root=new Array(8),(_=r>=(y=(f+c)/2))?f=y:c=y,(v=n>=(b=(l+p)/2))?l=b:p=b,(C=i>=(k=(h+d)/2))?h=k:d=k;while((S=C<<2|v<<1|_)===(z=(O>=k)<<2|(T>=b)<<1|g>=y));return a[z]=s,a[S]=u,e}function ca(e){var r,n,i=e.length,o,a,s,u=new Array(i),f=new Array(i),l=new Array(i),h=1/0,c=1/0,p=1/0,d=-1/0,y=-1/0,b=-1/0;for(n=0;n<i;++n)isNaN(o=+this._x.call(null,r=e[n]))||isNaN(a=+this._y.call(null,r))||isNaN(s=+this._z.call(null,r))||(u[n]=o,f[n]=a,l[n]=s,o<h&&(h=o),o>d&&(d=o),a<c&&(c=a),a>y&&(y=a),s<p&&(p=s),s>b&&(b=s));if(h>d||c>y||p>b)return this;for(this.cover(h,c,p).cover(d,y,b),n=0;n<i;++n)la(this,u[n],f[n],l[n],e[n]);return this}function ha(e,r,n){if(isNaN(e=+e)||isNaN(r=+r)||isNaN(n=+n))return this;var i=this._x0,o=this._y0,a=this._z0,s=this._x1,u=this._y1,f=this._z1;if(isNaN(i))s=(i=Math.floor(e))+1,u=(o=Math.floor(r))+1,f=(a=Math.floor(n))+1;else{for(var l=s-i||1,h=this._root,c,p;i>e||e>=s||o>r||r>=u||a>n||n>=f;)switch(p=(n<a)<<2|(r<o)<<1|e<i,c=new Array(8),c[p]=h,h=c,l*=2,p){case 0:s=i+l,u=o+l,f=a+l;break;case 1:i=s-l,u=o+l,f=a+l;break;case 2:s=i+l,o=u-l,f=a+l;break;case 3:i=s-l,o=u-l,f=a+l;break;case 4:s=i+l,u=o+l,a=f-l;break;case 5:i=s-l,u=o+l,a=f-l;break;case 6:s=i+l,o=u-l,a=f-l;break;case 7:i=s-l,o=u-l,a=f-l;break}this._root&&this._root.length&&(this._root=h)}return this._x0=i,this._y0=o,this._z0=a,this._x1=s,this._y1=u,this._z1=f,this}function pa(){var e=[];return this.visit(function(r){if(!r.length)do e.push(r.data);while(r=r.next)}),e}function da(e){return arguments.length?this.cover(+e[0][0],+e[0][1],+e[0][2]).cover(+e[1][0],+e[1][1],+e[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]}function X(e,r,n,i,o,a,s){this.node=e,this.x0=r,this.y0=n,this.z0=i,this.x1=o,this.y1=a,this.z1=s}function ga(e,r,n,i){var o,a=this._x0,s=this._y0,u=this._z0,f,l,h,c,p,d,y=this._x1,b=this._y1,k=this._z1,g=[],T=this._root,O,_;for(T&&g.push(new X(T,a,s,u,y,b,k)),i==null?i=1/0:(a=e-i,s=r-i,u=n-i,y=e+i,b=r+i,k=n+i,i*=i);O=g.pop();)if(!(!(T=O.node)||(f=O.x0)>y||(l=O.y0)>b||(h=O.z0)>k||(c=O.x1)<a||(p=O.y1)<s||(d=O.z1)<u))if(T.length){var v=(f+c)/2,C=(l+p)/2,S=(h+d)/2;g.push(new X(T[7],v,C,S,c,p,d),new X(T[6],f,C,S,v,p,d),new X(T[5],v,l,S,c,C,d),new X(T[4],f,l,S,v,C,d),new X(T[3],v,C,h,c,p,S),new X(T[2],f,C,h,v,p,S),new X(T[1],v,l,h,c,C,S),new X(T[0],f,l,h,v,C,S)),(_=(n>=S)<<2|(r>=C)<<1|e>=v)&&(O=g[g.length-1],g[g.length-1]=g[g.length-1-_],g[g.length-1-_]=O)}else{var z=e-+this._x.call(null,T.data),M=r-+this._y.call(null,T.data),E=n-+this._z.call(null,T.data),U=z*z+M*M+E*E;if(U<i){var B=Math.sqrt(i=U);a=e-B,s=r-B,u=n-B,y=e+B,b=r+B,k=n+B,o=T.data}}return o}function ma(e){if(isNaN(p=+this._x.call(null,e))||isNaN(d=+this._y.call(null,e))||isNaN(y=+this._z.call(null,e)))return this;var r,n=this._root,i,o,a,s=this._x0,u=this._y0,f=this._z0,l=this._x1,h=this._y1,c=this._z1,p,d,y,b,k,g,T,O,_,v,C;if(!n)return this;if(n.length)for(;;){if((T=p>=(b=(s+l)/2))?s=b:l=b,(O=d>=(k=(u+h)/2))?u=k:h=k,(_=y>=(g=(f+c)/2))?f=g:c=g,r=n,!(n=n[v=_<<2|O<<1|T]))return this;if(!n.length)break;(r[v+1&7]||r[v+2&7]||r[v+3&7]||r[v+4&7]||r[v+5&7]||r[v+6&7]||r[v+7&7])&&(i=r,C=v)}for(;n.data!==e;)if(o=n,!(n=n.next))return this;return(a=n.next)&&delete n.next,o?(a?o.next=a:delete o.next,this):r?(a?r[v]=a:delete r[v],(n=r[0]||r[1]||r[2]||r[3]||r[4]||r[5]||r[6]||r[7])&&n===(r[7]||r[6]||r[5]||r[4]||r[3]||r[2]||r[1]||r[0])&&!n.length&&(i?i[C]=n:this._root=n),this):(this._root=a,this)}function xa(e){for(var r=0,n=e.length;r<n;++r)this.remove(e[r]);return this}function ya(){return this._root}function va(){var e=0;return this.visit(function(r){if(!r.length)do++e;while(r=r.next)}),e}function _a(e){var r=[],n,i=this._root,o,a,s,u,f,l,h;for(i&&r.push(new X(i,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));n=r.pop();)if(!e(i=n.node,a=n.x0,s=n.y0,u=n.z0,f=n.x1,l=n.y1,h=n.z1)&&i.length){var c=(a+f)/2,p=(s+l)/2,d=(u+h)/2;(o=i[7])&&r.push(new X(o,c,p,d,f,l,h)),(o=i[6])&&r.push(new X(o,a,p,d,c,l,h)),(o=i[5])&&r.push(new X(o,c,s,d,f,p,h)),(o=i[4])&&r.push(new X(o,a,s,d,c,p,h)),(o=i[3])&&r.push(new X(o,c,p,u,f,l,d)),(o=i[2])&&r.push(new X(o,a,p,u,c,l,d)),(o=i[1])&&r.push(new X(o,c,s,u,f,p,d)),(o=i[0])&&r.push(new X(o,a,s,u,c,p,d))}return this}function ba(e){var r=[],n=[],i;for(this._root&&r.push(new X(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));i=r.pop();){var o=i.node;if(o.length){var a,s=i.x0,u=i.y0,f=i.z0,l=i.x1,h=i.y1,c=i.z1,p=(s+l)/2,d=(u+h)/2,y=(f+c)/2;(a=o[0])&&r.push(new X(a,s,u,f,p,d,y)),(a=o[1])&&r.push(new X(a,p,u,f,l,d,y)),(a=o[2])&&r.push(new X(a,s,d,f,p,h,y)),(a=o[3])&&r.push(new X(a,p,d,f,l,h,y)),(a=o[4])&&r.push(new X(a,s,u,y,p,d,c)),(a=o[5])&&r.push(new X(a,p,u,y,l,d,c)),(a=o[6])&&r.push(new X(a,s,d,y,p,h,c)),(a=o[7])&&r.push(new X(a,p,d,y,l,h,c))}n.push(i)}for(;i=n.pop();)e(i.node,i.x0,i.y0,i.z0,i.x1,i.y1,i.z1);return this}function wa(e){return e[0]}function ka(e){return arguments.length?(this._x=e,this):this._x}function Aa(e){return e[1]}function Ca(e){return arguments.length?(this._y=e,this):this._y}function Sa(e){return e[2]}function Ta(e){return arguments.length?(this._z=e,this):this._z}function De(e,r,n,i){var o=new on(r??wa,n??Aa,i??Sa,NaN,NaN,NaN,NaN,NaN,NaN);return e==null?o:o.addAll(e)}function on(e,r,n,i,o,a,s,u,f){this._x=e,this._y=r,this._z=n,this._x0=i,this._y0=o,this._z0=a,this._x1=s,this._y1=u,this._z1=f,this._root=void 0}function Oa(e){for(var r={data:e.data},n=r;e=e.next;)n=n.next={data:e.data};return r}var ut=De.prototype=on.prototype;ut.copy=function(){var e=new on(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),r=this._root,n,i;if(!r)return e;if(!r.length)return e._root=Oa(r),e;for(n=[{source:r,target:e._root=new Array(8)}];r=n.pop();)for(var o=0;o<8;++o)(i=r.source[o])&&(i.length?n.push({source:i,target:r.target[o]=new Array(8)}):r.target[o]=Oa(i));return e};ut.add=fa;ut.addAll=ca;ut.cover=ha;ut.data=pa;ut.extent=da;ut.find=ga;ut.remove=ma;ut.removeAll=xa;ut.root=ya;ut.size=va;ut.visit=_a;ut.visitAfter=ba;ut.x=ka;ut.y=Ca;ut.z=Ta;function wt(e){return function(){return e}}function Ot(e){return(e()-.5)*1e-6}function xl(e){return e.index}function za(e,r){var n=e.get(r);if(!n)throw new Error("node not found: "+r);return n}function an(e){var r=xl,n=p,i,o=wt(30),a,s,u,f,l,h,c=1;e==null&&(e=[]);function p(g){return 1/Math.min(f[g.source.index],f[g.target.index])}function d(g){for(var T=0,O=e.length;T<c;++T)for(var _=0,v,C,S,z=0,M=0,E=0,U,B;_<O;++_)v=e[_],C=v.source,S=v.target,z=S.x+S.vx-C.x-C.vx||Ot(h),u>1&&(M=S.y+S.vy-C.y-C.vy||Ot(h)),u>2&&(E=S.z+S.vz-C.z-C.vz||Ot(h)),U=Math.sqrt(z*z+M*M+E*E),U=(U-a[_])/U*g*i[_],z*=U,M*=U,E*=U,S.vx-=z*(B=l[_]),u>1&&(S.vy-=M*B),u>2&&(S.vz-=E*B),C.vx+=z*(B=1-B),u>1&&(C.vy+=M*B),u>2&&(C.vz+=E*B)}function y(){if(!!s){var g,T=s.length,O=e.length,_=new Map(s.map((C,S)=>[r(C,S,s),C])),v;for(g=0,f=new Array(T);g<O;++g)v=e[g],v.index=g,typeof v.source!="object"&&(v.source=za(_,v.source)),typeof v.target!="object"&&(v.target=za(_,v.target)),f[v.source.index]=(f[v.source.index]||0)+1,f[v.target.index]=(f[v.target.index]||0)+1;for(g=0,l=new Array(O);g<O;++g)v=e[g],l[g]=f[v.source.index]/(f[v.source.index]+f[v.target.index]);i=new Array(O),b(),a=new Array(O),k()}}function b(){if(!!s)for(var g=0,T=e.length;g<T;++g)i[g]=+n(e[g],g,e)}function k(){if(!!s)for(var g=0,T=e.length;g<T;++g)a[g]=+o(e[g],g,e)}return d.initialize=function(g,...T){s=g,h=T.find(O=>typeof O=="function")||Math.random,u=T.find(O=>[1,2,3].includes(O))||2,y()},d.links=function(g){return arguments.length?(e=g,y(),d):e},d.id=function(g){return arguments.length?(r=g,d):r},d.iterations=function(g){return arguments.length?(c=+g,d):c},d.strength=function(g){return arguments.length?(n=typeof g=="function"?g:wt(+g),b(),d):n},d.distance=function(g){return arguments.length?(o=typeof g=="function"?g:wt(+g),k(),d):o},d}function Ra(){let e=1;return()=>(e=(1664525*e+1013904223)%4294967296)/4294967296}var Ia=3;function wr(e){return e.x}function sn(e){return e.y}function Na(e){return e.z}var yl=10,vl=Math.PI*(3-Math.sqrt(5)),_l=Math.PI*20/(9+Math.sqrt(221));function un(e,r){r=r||2;var n=Math.min(Ia,Math.max(1,Math.round(r))),i,o=1,a=.001,s=1-Math.pow(a,1/300),u=0,f=.6,l=new Map,h=te(d),c=Pt("tick","end"),p=Ra();e==null&&(e=[]);function d(){y(),c.call("tick",i),o<a&&(h.stop(),c.call("end",i))}function y(g){var T,O=e.length,_;g===void 0&&(g=1);for(var v=0;v<g;++v)for(o+=(u-o)*s,l.forEach(function(C){C(o)}),T=0;T<O;++T)_=e[T],_.fx==null?_.x+=_.vx*=f:(_.x=_.fx,_.vx=0),n>1&&(_.fy==null?_.y+=_.vy*=f:(_.y=_.fy,_.vy=0)),n>2&&(_.fz==null?_.z+=_.vz*=f:(_.z=_.fz,_.vz=0));return i}function b(){for(var g=0,T=e.length,O;g<T;++g){if(O=e[g],O.index=g,O.fx!=null&&(O.x=O.fx),O.fy!=null&&(O.y=O.fy),O.fz!=null&&(O.z=O.fz),isNaN(O.x)||n>1&&isNaN(O.y)||n>2&&isNaN(O.z)){var _=yl*(n>2?Math.cbrt(.5+g):n>1?Math.sqrt(.5+g):g),v=g*vl,C=g*_l;n===1?O.x=_:n===2?(O.x=_*Math.cos(v),O.y=_*Math.sin(v)):(O.x=_*Math.sin(v)*Math.cos(C),O.y=_*Math.cos(v),O.z=_*Math.sin(v)*Math.sin(C))}(isNaN(O.vx)||n>1&&isNaN(O.vy)||n>2&&isNaN(O.vz))&&(O.vx=0,n>1&&(O.vy=0),n>2&&(O.vz=0))}}function k(g){return g.initialize&&g.initialize(e,p,n),g}return b(),i={tick:y,restart:function(){return h.restart(d),i},stop:function(){return h.stop(),i},numDimensions:function(g){return arguments.length?(n=Math.min(Ia,Math.max(1,Math.round(g))),l.forEach(k),i):n},nodes:function(g){return arguments.length?(e=g,b(),l.forEach(k),i):e},alpha:function(g){return arguments.length?(o=+g,i):o},alphaMin:function(g){return arguments.length?(a=+g,i):a},alphaDecay:function(g){return arguments.length?(s=+g,i):+s},alphaTarget:function(g){return arguments.length?(u=+g,i):u},velocityDecay:function(g){return arguments.length?(f=1-g,i):1-f},randomSource:function(g){return arguments.length?(p=g,l.forEach(k),i):p},force:function(g,T){return arguments.length>1?(T==null?l.delete(g):l.set(g,k(T)),i):l.get(g)},find:function(){var g=Array.prototype.slice.call(arguments),T=g.shift()||0,O=(n>1?g.shift():null)||0,_=(n>2?g.shift():null)||0,v=g.shift()||1/0,C=0,S=e.length,z,M,E,U,B,$;for(v*=v,C=0;C<S;++C)B=e[C],z=T-B.x,M=O-(B.y||0),E=_-(B.z||0),U=z*z+M*M+E*E,U<v&&($=B,v=U);return $},on:function(g,T){return arguments.length>1?(c.on(g,T),i):c.on(g)}}}function fn(){var e,r,n,i,o,a=wt(-30),s,u=1,f=1/0,l=.81;function h(y){var b,k=e.length,g=(r===1?Ee(e,wr):r===2?Me(e,wr,sn):r===3?De(e,wr,sn,Na):null).visitAfter(p);for(o=y,b=0;b<k;++b)n=e[b],g.visit(d)}function c(){if(!!e){var y,b=e.length,k;for(s=new Array(b),y=0;y<b;++y)k=e[y],s[k.index]=+a(k,y,e)}}function p(y){var b=0,k,g,T=0,O,_,v,C,S=y.length;if(S){for(O=_=v=C=0;C<S;++C)(k=y[C])&&(g=Math.abs(k.value))&&(b+=k.value,T+=g,O+=g*(k.x||0),_+=g*(k.y||0),v+=g*(k.z||0));b*=Math.sqrt(4/S),y.x=O/T,r>1&&(y.y=_/T),r>2&&(y.z=v/T)}else{k=y,k.x=k.data.x,r>1&&(k.y=k.data.y),r>2&&(k.z=k.data.z);do b+=s[k.data.index];while(k=k.next)}y.value=b}function d(y,b,k,g,T){if(!y.value)return!0;var O=[k,g,T][r-1],_=y.x-n.x,v=r>1?y.y-n.y:0,C=r>2?y.z-n.z:0,S=O-b,z=_*_+v*v+C*C;if(S*S/l<z)return z<f&&(_===0&&(_=Ot(i),z+=_*_),r>1&&v===0&&(v=Ot(i),z+=v*v),r>2&&C===0&&(C=Ot(i),z+=C*C),z<u&&(z=Math.sqrt(u*z)),n.vx+=_*y.value*o/z,r>1&&(n.vy+=v*y.value*o/z),r>2&&(n.vz+=C*y.value*o/z)),!0;if(y.length||z>=f)return;(y.data!==n||y.next)&&(_===0&&(_=Ot(i),z+=_*_),r>1&&v===0&&(v=Ot(i),z+=v*v),r>2&&C===0&&(C=Ot(i),z+=C*C),z<u&&(z=Math.sqrt(u*z)));do y.data!==n&&(S=s[y.data.index]*o/z,n.vx+=_*S,r>1&&(n.vy+=v*S),r>2&&(n.vz+=C*S));while(y=y.next)}return h.initialize=function(y,...b){e=y,i=b.find(k=>typeof k=="function")||Math.random,r=b.find(k=>[1,2,3].includes(k))||2,c()},h.strength=function(y){return arguments.length?(a=typeof y=="function"?y:wt(+y),c(),h):a},h.distanceMin=function(y){return arguments.length?(u=y*y,h):Math.sqrt(u)},h.distanceMax=function(y){return arguments.length?(f=y*y,h):Math.sqrt(f)},h.theta=function(y){return arguments.length?(l=y*y,h):Math.sqrt(l)},h}function ln(e,r,n,i){var o,a,s=wt(.1),u,f;typeof e!="function"&&(e=wt(+e)),r==null&&(r=0),n==null&&(n=0),i==null&&(i=0);function l(c){for(var p=0,d=o.length;p<d;++p){var y=o[p],b=y.x-r||1e-6,k=(y.y||0)-n||1e-6,g=(y.z||0)-i||1e-6,T=Math.sqrt(b*b+k*k+g*g),O=(f[p]-T)*u[p]*c/T;y.vx+=b*O,a>1&&(y.vy+=k*O),a>2&&(y.vz+=g*O)}}function h(){if(!!o){var c,p=o.length;for(u=new Array(p),f=new Array(p),c=0;c<p;++c)f[c]=+e(o[c],c,o),u[c]=isNaN(f[c])?0:+s(o[c],c,o)}}return l.initialize=function(c,...p){o=c,a=p.find(d=>[1,2,3].includes(d))||2,h()},l.strength=function(c){return arguments.length?(s=typeof c=="function"?c:wt(+c),h(),l):s},l.radius=function(c){return arguments.length?(e=typeof c=="function"?c:wt(+c),h(),l):e},l.x=function(c){return arguments.length?(r=+c,l):r},l.y=function(c){return arguments.length?(n=+c,l):n},l.z=function(c){return arguments.length?(i=+c,l):i},l}var{abs:Le,cos:Mt,sin:ae,acos:bl,atan2:Fe,sqrt:Ut,pow:kt}=Math;function qe(e){return e<0?-kt(-e,1/3):kt(e,1/3)}var Pa=Math.PI,kr=2*Pa,Bt=Pa/2,wl=1e-6,cn=Number.MAX_SAFE_INTEGER||9007199254740991,hn=Number.MIN_SAFE_INTEGER||-9007199254740991,kl={x:0,y:0,z:0},I={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(e,r){let n=r(e),i=n.x*n.x+n.y*n.y;return typeof n.z<"u"&&(i+=n.z*n.z),Ut(i)},compute:function(e,r,n){if(e===0)return r[0].t=0,r[0];let i=r.length-1;if(e===1)return r[i].t=1,r[i];let o=1-e,a=r;if(i===0)return r[0].t=e,r[0];if(i===1){let u={x:o*a[0].x+e*a[1].x,y:o*a[0].y+e*a[1].y,t:e};return n&&(u.z=o*a[0].z+e*a[1].z),u}if(i<4){let u=o*o,f=e*e,l,h,c,p=0;i===2?(a=[a[0],a[1],a[2],kl],l=u,h=o*e*2,c=f):i===3&&(l=u*o,h=u*e*3,c=o*f*3,p=e*f);let d={x:l*a[0].x+h*a[1].x+c*a[2].x+p*a[3].x,y:l*a[0].y+h*a[1].y+c*a[2].y+p*a[3].y,t:e};return n&&(d.z=l*a[0].z+h*a[1].z+c*a[2].z+p*a[3].z),d}let s=JSON.parse(JSON.stringify(r));for(;s.length>1;){for(let u=0;u<s.length-1;u++)s[u]={x:s[u].x+(s[u+1].x-s[u].x)*e,y:s[u].y+(s[u+1].y-s[u].y)*e},typeof s[u].z<"u"&&(s[u]=s[u].z+(s[u+1].z-s[u].z)*e);s.splice(s.length-1,1)}return s[0].t=e,s[0]},computeWithRatios:function(e,r,n,i){let o=1-e,a=n,s=r,u=a[0],f=a[1],l=a[2],h=a[3],c;if(u*=o,f*=e,s.length===2)return c=u+f,{x:(u*s[0].x+f*s[1].x)/c,y:(u*s[0].y+f*s[1].y)/c,z:i?(u*s[0].z+f*s[1].z)/c:!1,t:e};if(u*=o,f*=2*o,l*=e*e,s.length===3)return c=u+f+l,{x:(u*s[0].x+f*s[1].x+l*s[2].x)/c,y:(u*s[0].y+f*s[1].y+l*s[2].y)/c,z:i?(u*s[0].z+f*s[1].z+l*s[2].z)/c:!1,t:e};if(u*=o,f*=1.5*o,l*=3*o,h*=e*e*e,s.length===4)return c=u+f+l+h,{x:(u*s[0].x+f*s[1].x+l*s[2].x+h*s[3].x)/c,y:(u*s[0].y+f*s[1].y+l*s[2].y+h*s[3].y)/c,z:i?(u*s[0].z+f*s[1].z+l*s[2].z+h*s[3].z)/c:!1,t:e}},derive:function(e,r){let n=[];for(let i=e,o=i.length,a=o-1;o>1;o--,a--){let s=[];for(let u=0,f;u<a;u++)f={x:a*(i[u+1].x-i[u].x),y:a*(i[u+1].y-i[u].y)},r&&(f.z=a*(i[u+1].z-i[u].z)),s.push(f);n.push(s),i=s}return n},between:function(e,r,n){return r<=e&&e<=n||I.approximately(e,r)||I.approximately(e,n)},approximately:function(e,r,n){return Le(e-r)<=(n||wl)},length:function(e){let n=I.Tvalues.length,i=0;for(let o=0,a;o<n;o++)a=.5*I.Tvalues[o]+.5,i+=I.Cvalues[o]*I.arcfn(a,e);return .5*i},map:function(e,r,n,i,o){let a=n-r,s=o-i,u=e-r,f=u/a;return i+s*f},lerp:function(e,r,n){let i={x:r.x+e*(n.x-r.x),y:r.y+e*(n.y-r.y)};return r.z!==void 0&&n.z!==void 0&&(i.z=r.z+e*(n.z-r.z)),i},pointToString:function(e){let r=e.x+"/"+e.y;return typeof e.z<"u"&&(r+="/"+e.z),r},pointsToString:function(e){return"["+e.map(I.pointToString).join(", ")+"]"},copy:function(e){return JSON.parse(JSON.stringify(e))},angle:function(e,r,n){let i=r.x-e.x,o=r.y-e.y,a=n.x-e.x,s=n.y-e.y,u=i*s-o*a,f=i*a+o*s;return Fe(u,f)},round:function(e,r){let n=""+e,i=n.indexOf(".");return parseFloat(n.substring(0,i+1+r))},dist:function(e,r){let n=e.x-r.x,i=e.y-r.y;return Ut(n*n+i*i)},closest:function(e,r){let n=kt(2,63),i,o;return e.forEach(function(a,s){o=I.dist(r,a),o<n&&(n=o,i=s)}),{mdist:n,mpos:i}},abcratio:function(e,r){if(r!==2&&r!==3)return!1;if(typeof e>"u")e=.5;else if(e===0||e===1)return e;let n=kt(e,r)+kt(1-e,r),i=n-1;return Le(i/n)},projectionratio:function(e,r){if(r!==2&&r!==3)return!1;if(typeof e>"u")e=.5;else if(e===0||e===1)return e;let n=kt(1-e,r),i=kt(e,r)+n;return n/i},lli8:function(e,r,n,i,o,a,s,u){let f=(e*i-r*n)*(o-s)-(e-n)*(o*u-a*s),l=(e*i-r*n)*(a-u)-(r-i)*(o*u-a*s),h=(e-n)*(a-u)-(r-i)*(o-s);return h==0?!1:{x:f/h,y:l/h}},lli4:function(e,r,n,i){let o=e.x,a=e.y,s=r.x,u=r.y,f=n.x,l=n.y,h=i.x,c=i.y;return I.lli8(o,a,s,u,f,l,h,c)},lli:function(e,r){return I.lli4(e,e.c,r,r.c)},makeline:function(e,r){return new W(e.x,e.y,(e.x+r.x)/2,(e.y+r.y)/2,r.x,r.y)},findbbox:function(e){let r=cn,n=cn,i=hn,o=hn;return e.forEach(function(a){let s=a.bbox();r>s.x.min&&(r=s.x.min),n>s.y.min&&(n=s.y.min),i<s.x.max&&(i=s.x.max),o<s.y.max&&(o=s.y.max)}),{x:{min:r,mid:(r+i)/2,max:i,size:i-r},y:{min:n,mid:(n+o)/2,max:o,size:o-n}}},shapeintersections:function(e,r,n,i,o){if(!I.bboxoverlap(r,i))return[];let a=[],s=[e.startcap,e.forward,e.back,e.endcap],u=[n.startcap,n.forward,n.back,n.endcap];return s.forEach(function(f){f.virtual||u.forEach(function(l){if(l.virtual)return;let h=f.intersects(l,o);h.length>0&&(h.c1=f,h.c2=l,h.s1=e,h.s2=n,a.push(h))})}),a},makeshape:function(e,r,n){let i=r.points.length,o=e.points.length,a=I.makeline(r.points[i-1],e.points[0]),s=I.makeline(e.points[o-1],r.points[0]),u={startcap:a,forward:e,back:r,endcap:s,bbox:I.findbbox([a,e,r,s])};return u.intersections=function(f){return I.shapeintersections(u,u.bbox,f,f.bbox,n)},u},getminmax:function(e,r,n){if(!n)return{min:0,max:0};let i=cn,o=hn,a,s;n.indexOf(0)===-1&&(n=[0].concat(n)),n.indexOf(1)===-1&&n.push(1);for(let u=0,f=n.length;u<f;u++)a=n[u],s=e.get(a),s[r]<i&&(i=s[r]),s[r]>o&&(o=s[r]);return{min:i,mid:(i+o)/2,max:o,size:o-i}},align:function(e,r){let n=r.p1.x,i=r.p1.y,o=-Fe(r.p2.y-i,r.p2.x-n),a=function(s){return{x:(s.x-n)*Mt(o)-(s.y-i)*ae(o),y:(s.x-n)*ae(o)+(s.y-i)*Mt(o)}};return e.map(a)},roots:function(e,r){r=r||{p1:{x:0,y:0},p2:{x:1,y:0}};let n=e.length-1,i=I.align(e,r),o=function(S){return 0<=S&&S<=1};if(n===2){let S=i[0].y,z=i[1].y,M=i[2].y,E=S-2*z+M;if(E!==0){let U=-Ut(z*z-S*M),B=-S+z,$=-(U+B)/E,A=-(-U+B)/E;return[$,A].filter(o)}else if(z!==M&&E===0)return[(2*z-M)/(2*z-2*M)].filter(o);return[]}let a=i[0].y,s=i[1].y,u=i[2].y,f=i[3].y,l=-a+3*s-3*u+f,h=3*a-6*s+3*u,c=-3*a+3*s,p=a;if(I.approximately(l,0)){if(I.approximately(h,0))return I.approximately(c,0)?[]:[-p/c].filter(o);let S=Ut(c*c-4*h*p),z=2*h;return[(S-c)/z,(-c-S)/z].filter(o)}h/=l,c/=l,p/=l;let d=(3*c-h*h)/3,y=d/3,b=(2*h*h*h-9*h*c+27*p)/27,k=b/2,g=k*k+y*y*y,T,O,_,v,C;if(g<0){let S=-d/3,z=S*S*S,M=Ut(z),E=-b/(2*M),U=E<-1?-1:E>1?1:E,B=bl(U),$=qe(M),A=2*$;return _=A*Mt(B/3)-h/3,v=A*Mt((B+kr)/3)-h/3,C=A*Mt((B+2*kr)/3)-h/3,[_,v,C].filter(o)}else{if(g===0)return T=k<0?qe(-k):-qe(k),_=2*T-h/3,v=-T-h/3,[_,v].filter(o);{let S=Ut(g);return T=qe(-k+S),O=qe(k+S),[T-O-h/3].filter(o)}}},droots:function(e){if(e.length===3){let r=e[0],n=e[1],i=e[2],o=r-2*n+i;if(o!==0){let a=-Ut(n*n-r*i),s=-r+n,u=-(a+s)/o,f=-(-a+s)/o;return[u,f]}else if(n!==i&&o===0)return[(2*n-i)/(2*(n-i))];return[]}if(e.length===2){let r=e[0],n=e[1];return r!==n?[r/(r-n)]:[]}return[]},curvature:function(e,r,n,i,o){let a,s,u,f,l=0,h=0,c=I.compute(e,r),p=I.compute(e,n),d=c.x*c.x+c.y*c.y;if(i?(a=Ut(kt(c.y*p.z-p.y*c.z,2)+kt(c.z*p.x-p.z*c.x,2)+kt(c.x*p.y-p.x*c.y,2)),s=kt(d+c.z*c.z,3/2)):(a=c.x*p.y-c.y*p.x,s=kt(d,3/2)),a===0||s===0)return{k:0,r:0};if(l=a/s,h=s/a,!o){let y=I.curvature(e-.001,r,n,i,!0).k,b=I.curvature(e+.001,r,n,i,!0).k;f=(b-l+(l-y))/2,u=(Le(b-l)+Le(l-y))/2}return{k:l,r:h,dk:f,adk:u}},inflections:function(e){if(e.length<4)return[];let r=I.align(e,{p1:e[0],p2:e.slice(-1)[0]}),n=r[2].x*r[1].y,i=r[3].x*r[1].y,o=r[1].x*r[2].y,a=r[3].x*r[2].y,s=18*(-3*n+2*i+3*o-a),u=18*(3*n-i-3*o),f=18*(o-n);if(I.approximately(s,0)){if(!I.approximately(u,0)){let p=-f/u;if(0<=p&&p<=1)return[p]}return[]}let l=2*s;if(I.approximately(l,0))return[];let h=u*u-4*s*f;if(h<0)return[];let c=Math.sqrt(h);return[(c-u)/l,-(u+c)/l].filter(function(p){return 0<=p&&p<=1})},bboxoverlap:function(e,r){let n=["x","y"],i=n.length;for(let o=0,a,s,u,f;o<i;o++)if(a=n[o],s=e[a].mid,u=r[a].mid,f=(e[a].size+r[a].size)/2,Le(s-u)>=f)return!1;return!0},expandbox:function(e,r){r.x.min<e.x.min&&(e.x.min=r.x.min),r.y.min<e.y.min&&(e.y.min=r.y.min),r.z&&r.z.min<e.z.min&&(e.z.min=r.z.min),r.x.max>e.x.max&&(e.x.max=r.x.max),r.y.max>e.y.max&&(e.y.max=r.y.max),r.z&&r.z.max>e.z.max&&(e.z.max=r.z.max),e.x.mid=(e.x.min+e.x.max)/2,e.y.mid=(e.y.min+e.y.max)/2,e.z&&(e.z.mid=(e.z.min+e.z.max)/2),e.x.size=e.x.max-e.x.min,e.y.size=e.y.max-e.y.min,e.z&&(e.z.size=e.z.max-e.z.min)},pairiteration:function(e,r,n){let i=e.bbox(),o=r.bbox(),a=1e5,s=n||.5;if(i.x.size+i.y.size<s&&o.x.size+o.y.size<s)return[(a*(e._t1+e._t2)/2|0)/a+"/"+(a*(r._t1+r._t2)/2|0)/a];let u=e.split(.5),f=r.split(.5),l=[{left:u.left,right:f.left},{left:u.left,right:f.right},{left:u.right,right:f.right},{left:u.right,right:f.left}];l=l.filter(function(c){return I.bboxoverlap(c.left.bbox(),c.right.bbox())});let h=[];return l.length===0||(l.forEach(function(c){h=h.concat(I.pairiteration(c.left,c.right,s))}),h=h.filter(function(c,p){return h.indexOf(c)===p})),h},getccenter:function(e,r,n){let i=r.x-e.x,o=r.y-e.y,a=n.x-r.x,s=n.y-r.y,u=i*Mt(Bt)-o*ae(Bt),f=i*ae(Bt)+o*Mt(Bt),l=a*Mt(Bt)-s*ae(Bt),h=a*ae(Bt)+s*Mt(Bt),c=(e.x+r.x)/2,p=(e.y+r.y)/2,d=(r.x+n.x)/2,y=(r.y+n.y)/2,b=c+u,k=p+f,g=d+l,T=y+h,O=I.lli8(c,p,b,k,d,y,g,T),_=I.dist(O,e),v=Fe(e.y-O.y,e.x-O.x),C=Fe(r.y-O.y,r.x-O.x),S=Fe(n.y-O.y,n.x-O.x),z;return v<S?((v>C||C>S)&&(v+=kr),v>S&&(z=S,S=v,v=z)):S<C&&C<v?(z=S,S=v,v=z):S+=kr,O.s=v,O.e=S,O.r=_,O},numberSort:function(e,r){return e-r}};var jt=class{constructor(r){this.curves=[],this._3d=!1,r&&(this.curves=r,this._3d=this.curves[0]._3d)}valueOf(){return this.toString()}toString(){return"["+this.curves.map(function(r){return I.pointsToString(r.points)}).join(", ")+"]"}addCurve(r){this.curves.push(r),this._3d=this._3d||r._3d}length(){return this.curves.map(function(r){return r.length()}).reduce(function(r,n){return r+n})}curve(r){return this.curves[r]}bbox(){let r=this.curves;for(var n=r[0].bbox(),i=1;i<r.length;i++)I.expandbox(n,r[i].bbox());return n}offset(r){let n=[];return this.curves.forEach(function(i){n.push(...i.offset(r))}),new jt(n)}};var{abs:Ue,min:Ea,max:Ma,cos:Al,sin:Cl,acos:Sl,sqrt:Be}=Math,Tl=Math.PI;var W=class{constructor(r){let n=r&&r.forEach?r:Array.from(arguments).slice(),i=!1;if(typeof n[0]=="object"){i=n.length;let d=[];n.forEach(function(y){["x","y","z"].forEach(function(b){typeof y[b]<"u"&&d.push(y[b])})}),n=d}let o=!1,a=n.length;if(i){if(i>4){if(arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");o=!0}}else if(a!==6&&a!==8&&a!==9&&a!==12&&arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");let s=this._3d=!o&&(a===9||a===12)||r&&r[0]&&typeof r[0].z<"u",u=this.points=[];for(let d=0,y=s?3:2;d<a;d+=y){var f={x:n[d],y:n[d+1]};s&&(f.z=n[d+2]),u.push(f)}let l=this.order=u.length-1,h=this.dims=["x","y"];s&&h.push("z"),this.dimlen=h.length;let c=I.align(u,{p1:u[0],p2:u[l]}),p=I.dist(u[0],u[l]);this._linear=c.reduce((d,y)=>d+Ue(y.y),0)<p/50,this._lut=[],this._t1=0,this._t2=1,this.update()}static quadraticFromPoints(r,n,i,o){if(typeof o>"u"&&(o=.5),o===0)return new W(n,n,i);if(o===1)return new W(r,n,n);let a=W.getABC(2,r,n,i,o);return new W(r,a.A,i)}static cubicFromPoints(r,n,i,o,a){typeof o>"u"&&(o=.5);let s=W.getABC(3,r,n,i,o);typeof a>"u"&&(a=I.dist(n,s.C));let u=a*(1-o)/o,f=I.dist(r,i),l=(i.x-r.x)/f,h=(i.y-r.y)/f,c=a*l,p=a*h,d=u*l,y=u*h,b={x:n.x-c,y:n.y-p},k={x:n.x+d,y:n.y+y},g=s.A,T={x:g.x+(b.x-g.x)/(1-o),y:g.y+(b.y-g.y)/(1-o)},O={x:g.x+(k.x-g.x)/o,y:g.y+(k.y-g.y)/o},_={x:r.x+(T.x-r.x)/o,y:r.y+(T.y-r.y)/o},v={x:i.x+(O.x-i.x)/(1-o),y:i.y+(O.y-i.y)/(1-o)};return new W(r,_,v,i)}static getUtils(){return I}getUtils(){return W.getUtils()}static get PolyBezier(){return jt}valueOf(){return this.toString()}toString(){return I.pointsToString(this.points)}toSVG(){if(this._3d)return!1;let r=this.points,n=r[0].x,i=r[0].y,o=["M",n,i,this.order===2?"Q":"C"];for(let a=1,s=r.length;a<s;a++)o.push(r[a].x),o.push(r[a].y);return o.join(" ")}setRatios(r){if(r.length!==this.points.length)throw new Error("incorrect number of ratio values");this.ratios=r,this._lut=[]}verify(){let r=this.coordDigest();r!==this._print&&(this._print=r,this.update())}coordDigest(){return this.points.map(function(r,n){return""+n+r.x+r.y+(r.z?r.z:0)}).join("")}update(){this._lut=[],this.dpoints=I.derive(this.points,this._3d),this.computedirection()}computedirection(){let r=this.points,n=I.angle(r[0],r[this.order],r[1]);this.clockwise=n>0}length(){return I.length(this.derivative.bind(this))}static getABC(r=2,n,i,o,a=.5){let s=I.projectionratio(a,r),u=1-s,f={x:s*n.x+u*o.x,y:s*n.y+u*o.y},l=I.abcratio(a,r);return{A:{x:i.x+(i.x-f.x)/l,y:i.y+(i.y-f.y)/l},B:i,C:f,S:n,E:o}}getABC(r,n){n=n||this.get(r);let i=this.points[0],o=this.points[this.order];return W.getABC(this.order,i,n,o,r)}getLUT(r){if(this.verify(),r=r||100,this._lut.length===r)return this._lut;this._lut=[],r++,this._lut=[];for(let n=0,i,o;n<r;n++)o=n/(r-1),i=this.compute(o),i.t=o,this._lut.push(i);return this._lut}on(r,n){n=n||5;let i=this.getLUT(),o=[];for(let a=0,s,u=0;a<i.length;a++)s=i[a],I.dist(s,r)<n&&(o.push(s),u+=a/i.length);return o.length?t/=o.length:!1}project(r){let n=this.getLUT(),i=n.length-1,o=I.closest(n,r),a=o.mpos,s=(a-1)/i,u=(a+1)/i,f=.1/i,l=o.mdist,h=s,c=h,p;l+=1;for(let d;h<u+f;h+=f)p=this.compute(h),d=I.dist(r,p),d<l&&(l=d,c=h);return c=c<0?0:c>1?1:c,p=this.compute(c),p.t=c,p.d=l,p}get(r){return this.compute(r)}point(r){return this.points[r]}compute(r){return this.ratios?I.computeWithRatios(r,this.points,this.ratios,this._3d):I.compute(r,this.points,this._3d,this.ratios)}raise(){let r=this.points,n=[r[0]],i=r.length;for(let o=1,a,s;o<i;o++)a=r[o],s=r[o-1],n[o]={x:(i-o)/i*a.x+o/i*s.x,y:(i-o)/i*a.y+o/i*s.y};return n[i]=r[i-1],new W(n)}derivative(r){return I.compute(r,this.dpoints[0],this._3d)}dderivative(r){return I.compute(r,this.dpoints[1],this._3d)}align(){let r=this.points;return new W(I.align(r,{p1:r[0],p2:r[r.length-1]}))}curvature(r){return I.curvature(r,this.dpoints[0],this.dpoints[1],this._3d)}inflections(){return I.inflections(this.points)}normal(r){return this._3d?this.__normal3(r):this.__normal2(r)}__normal2(r){let n=this.derivative(r),i=Be(n.x*n.x+n.y*n.y);return{t:r,x:-n.y/i,y:n.x/i}}__normal3(r){let n=this.derivative(r),i=this.derivative(r+.01),o=Be(n.x*n.x+n.y*n.y+n.z*n.z),a=Be(i.x*i.x+i.y*i.y+i.z*i.z);n.x/=o,n.y/=o,n.z/=o,i.x/=a,i.y/=a,i.z/=a;let s={x:i.y*n.z-i.z*n.y,y:i.z*n.x-i.x*n.z,z:i.x*n.y-i.y*n.x},u=Be(s.x*s.x+s.y*s.y+s.z*s.z);s.x/=u,s.y/=u,s.z/=u;let f=[s.x*s.x,s.x*s.y-s.z,s.x*s.z+s.y,s.x*s.y+s.z,s.y*s.y,s.y*s.z-s.x,s.x*s.z-s.y,s.y*s.z+s.x,s.z*s.z];return{t:r,x:f[0]*n.x+f[1]*n.y+f[2]*n.z,y:f[3]*n.x+f[4]*n.y+f[5]*n.z,z:f[6]*n.x+f[7]*n.y+f[8]*n.z}}hull(r){let n=this.points,i=[],o=[],a=0;for(o[a++]=n[0],o[a++]=n[1],o[a++]=n[2],this.order===3&&(o[a++]=n[3]);n.length>1;){i=[];for(let s=0,u,f=n.length-1;s<f;s++)u=I.lerp(r,n[s],n[s+1]),o[a++]=u,i.push(u);n=i}return o}split(r,n){if(r===0&&!!n)return this.split(n).left;if(n===1)return this.split(r).right;let i=this.hull(r),o={left:this.order===2?new W([i[0],i[3],i[5]]):new W([i[0],i[4],i[7],i[9]]),right:this.order===2?new W([i[5],i[4],i[2]]):new W([i[9],i[8],i[6],i[3]]),span:i};return o.left._t1=I.map(0,0,1,this._t1,this._t2),o.left._t2=I.map(r,0,1,this._t1,this._t2),o.right._t1=I.map(r,0,1,this._t1,this._t2),o.right._t2=I.map(1,0,1,this._t1,this._t2),n?(n=I.map(n,r,1,0,1),o.right.split(n).left):o}extrema(){let r={},n=[];return this.dims.forEach(function(i){let o=function(s){return s[i]},a=this.dpoints[0].map(o);r[i]=I.droots(a),this.order===3&&(a=this.dpoints[1].map(o),r[i]=r[i].concat(I.droots(a))),r[i]=r[i].filter(function(s){return s>=0&&s<=1}),n=n.concat(r[i].sort(I.numberSort))}.bind(this)),r.values=n.sort(I.numberSort).filter(function(i,o){return n.indexOf(i)===o}),r}bbox(){let r=this.extrema(),n={};return this.dims.forEach(function(i){n[i]=I.getminmax(this,i,r[i])}.bind(this)),n}overlaps(r){let n=this.bbox(),i=r.bbox();return I.bboxoverlap(n,i)}offset(r,n){if(typeof n<"u"){let i=this.get(r),o=this.normal(r),a={c:i,n:o,x:i.x+o.x*n,y:i.y+o.y*n};return this._3d&&(a.z=i.z+o.z*n),a}if(this._linear){let i=this.normal(0),o=this.points.map(function(a){let s={x:a.x+r*i.x,y:a.y+r*i.y};return a.z&&i.z&&(s.z=a.z+r*i.z),s});return[new W(o)]}return this.reduce().map(function(i){return i._linear?i.offset(r)[0]:i.scale(r)})}simple(){if(this.order===3){let o=I.angle(this.points[0],this.points[3],this.points[1]),a=I.angle(this.points[0],this.points[3],this.points[2]);if(o>0&&a<0||o<0&&a>0)return!1}let r=this.normal(0),n=this.normal(1),i=r.x*n.x+r.y*n.y;return this._3d&&(i+=r.z*n.z),Ue(Sl(i))<Tl/3}reduce(){let r,n=0,i=0,o=.01,a,s=[],u=[],f=this.extrema().values;for(f.indexOf(0)===-1&&(f=[0].concat(f)),f.indexOf(1)===-1&&f.push(1),n=f[0],r=1;r<f.length;r++)i=f[r],a=this.split(n,i),a._t1=n,a._t2=i,s.push(a),n=i;return s.forEach(function(l){for(n=0,i=0;i<=1;)for(i=n+o;i<=1+o;i+=o)if(a=l.split(n,i),!a.simple()){if(i-=o,Ue(n-i)<o)return[];a=l.split(n,i),a._t1=I.map(n,0,1,l._t1,l._t2),a._t2=I.map(i,0,1,l._t1,l._t2),u.push(a),n=i;break}n<1&&(a=l.split(n,1),a._t1=I.map(n,0,1,l._t1,l._t2),a._t2=l._t2,u.push(a))}),u}translate(r,n,i){i=typeof i=="number"?i:n;let o=this.order,a=this.points.map((s,u)=>(1-u/o)*n+u/o*i);return new W(this.points.map((s,u)=>({x:s.x+r.x*a[u],y:s.y+r.y*a[u]})))}scale(r){let n=this.order,i=!1;if(typeof r=="function"&&(i=r),i&&n===2)return this.raise().scale(i);let o=this.clockwise,a=this.points;if(this._linear)return this.translate(this.normal(0),i?i(0):r,i?i(1):r);let s=i?i(0):r,u=i?i(1):r,f=[this.offset(0,10),this.offset(1,10)],l=[],h=I.lli4(f[0],f[0].c,f[1],f[1].c);if(!h)throw new Error("cannot scale this curve. Try reducing it first.");return[0,1].forEach(function(c){let p=l[c*n]=I.copy(a[c*n]);p.x+=(c?u:s)*f[c].n.x,p.y+=(c?u:s)*f[c].n.y}),i?([0,1].forEach(function(c){if(!(n===2&&!!c)){var p=a[c+1],d={x:p.x-h.x,y:p.y-h.y},y=i?i((c+1)/n):r;i&&!o&&(y=-y);var b=Be(d.x*d.x+d.y*d.y);d.x/=b,d.y/=b,l[c+1]={x:p.x+y*d.x,y:p.y+y*d.y}}}),new W(l)):([0,1].forEach(c=>{if(n===2&&!!c)return;let p=l[c*n],d=this.derivative(c),y={x:p.x+d.x,y:p.y+d.y};l[c+1]=I.lli4(p,y,h,a[c+1])}),new W(l))}outline(r,n,i,o){if(n=n===void 0?r:n,this._linear){let v=this.normal(0),C=this.points[0],S=this.points[this.points.length-1],z,M,E;i===void 0&&(i=r,o=n),z={x:C.x+v.x*r,y:C.y+v.y*r},E={x:S.x+v.x*i,y:S.y+v.y*i},M={x:(z.x+E.x)/2,y:(z.y+E.y)/2};let U=[z,M,E];z={x:C.x-v.x*n,y:C.y-v.y*n},E={x:S.x-v.x*o,y:S.y-v.y*o},M={x:(z.x+E.x)/2,y:(z.y+E.y)/2};let B=[E,M,z],$=I.makeline(B[2],U[0]),A=I.makeline(U[2],B[0]),P=[$,new W(U),A,new W(B)];return new jt(P)}let a=this.reduce(),s=a.length,u=[],f=[],l,h=0,c=this.length(),p=typeof i<"u"&&typeof o<"u";function d(v,C,S,z,M){return function(E){let U=z/S,B=(z+M)/S,$=C-v;return I.map(E,0,1,v+U*$,v+B*$)}}a.forEach(function(v){let C=v.length();p?(u.push(v.scale(d(r,i,c,h,C))),f.push(v.scale(d(-n,-o,c,h,C)))):(u.push(v.scale(r)),f.push(v.scale(-n))),h+=C}),f=f.map(function(v){return l=v.points,l[3]?v.points=[l[3],l[2],l[1],l[0]]:v.points=[l[2],l[1],l[0]],v}).reverse();let y=u[0].points[0],b=u[s-1].points[u[s-1].points.length-1],k=f[s-1].points[f[s-1].points.length-1],g=f[0].points[0],T=I.makeline(k,y),O=I.makeline(b,g),_=[T].concat(u).concat([O]).concat(f);return new jt(_)}outlineshapes(r,n,i){n=n||r;let o=this.outline(r,n).curves,a=[];for(let s=1,u=o.length;s<u/2;s++){let f=I.makeshape(o[s],o[u-s],i);f.startcap.virtual=s>1,f.endcap.virtual=s<u/2-1,a.push(f)}return a}intersects(r,n){return r?r.p1&&r.p2?this.lineIntersects(r):(r instanceof W&&(r=r.reduce()),this.curveintersects(this.reduce(),r,n)):this.selfintersects(n)}lineIntersects(r){let n=Ea(r.p1.x,r.p2.x),i=Ea(r.p1.y,r.p2.y),o=Ma(r.p1.x,r.p2.x),a=Ma(r.p1.y,r.p2.y);return I.roots(this.points,r).filter(s=>{var u=this.get(s);return I.between(u.x,n,o)&&I.between(u.y,i,a)})}selfintersects(r){let n=this.reduce(),i=n.length-2,o=[];for(let a=0,s,u,f;a<i;a++)u=n.slice(a,a+1),f=n.slice(a+2),s=this.curveintersects(u,f,r),o.push(...s);return o}curveintersects(r,n,i){let o=[];r.forEach(function(s){n.forEach(function(u){s.overlaps(u)&&o.push({left:s,right:u})})});let a=[];return o.forEach(function(s){let u=I.pairiteration(s.left,s.right,i);u.length>0&&(a=a.concat(u))}),a}arcs(r){return r=r||.5,this._iterate(r,[])}_error(r,n,i,o){let a=(o-i)/4,s=this.get(i+a),u=this.get(o-a),f=I.dist(r,n),l=I.dist(r,s),h=I.dist(r,u);return Ue(l-f)+Ue(h-f)}_iterate(r,n){let i=0,o=1,a;do{a=0,o=1;let s=this.get(i),u,f,l,h,c=!1,p=!1,d,y=o,b=1,k=0;do if(p=c,h=l,y=(i+o)/2,k++,u=this.get(y),f=this.get(o),l=I.getccenter(s,u,f),l.interval={start:i,end:o},c=this._error(l,s,i,o)<=r,d=p&&!c,d||(b=o),c){if(o>=1){if(l.interval.end=b=1,h=l,o>1){let T={x:l.x+l.r*Al(l.e),y:l.y+l.r*Cl(l.e)};l.e+=I.angle({x:l.x,y:l.y},T,this.get(1))}break}o=o+(o-i)/2}else o=y;while(!d&&a++<100);if(a>=100)break;h=h||l,n.push(h),i=b}while(o<1);return n}};function Ol(e,r){if(e==null)return{};var n={},i=Object.keys(e),o,a;for(a=0;a<i.length;a++)o=i[a],!(r.indexOf(o)>=0)&&(n[o]=e[o]);return n}function zl(e,r){if(e==null)return{};var n=Ol(e,r),i,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)i=a[o],!(r.indexOf(i)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,i)||(n[i]=e[i]))}return n}function Rl(e,r){return Pl(e)||Ml(e,r)||Da(e,r)||Ll()}function Il(e){return Nl(e)||El(e)||Da(e)||Dl()}function Nl(e){if(Array.isArray(e))return pn(e)}function Pl(e){if(Array.isArray(e))return e}function El(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ml(e,r){var n=e&&(typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"]);if(n!=null){var i=[],o=!0,a=!1,s,u;try{for(n=n.call(e);!(o=(s=n.next()).done)&&(i.push(s.value),!(r&&i.length===r));o=!0);}catch(f){a=!0,u=f}finally{try{!o&&n.return!=null&&n.return()}finally{if(a)throw u}}return i}}function Da(e,r){if(!!e){if(typeof e=="string")return pn(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pn(e,r)}}function pn(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,i=new Array(r);n<r;n++)i[n]=e[n];return i}function Dl(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ll(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fl(e,r){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var i=n.call(e,r||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function ql(e){var r=Fl(e,"string");return typeof r=="symbol"?r:String(r)}var Ul=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,o=(r instanceof Array?r.length?r:[void 0]:[r]).map(function(u){return{keyAccessor:u,isProp:!(u instanceof Function)}}),a=e.reduce(function(u,f){var l=u,h=f;return o.forEach(function(c,p){var d=c.keyAccessor,y=c.isProp,b;if(y){var k=h,g=k[d],T=zl(k,[d].map(ql));b=g,h=T}else b=d(h,p);p+1<o.length?(l.hasOwnProperty(b)||(l[b]={}),l=l[b]):n?(l.hasOwnProperty(b)||(l[b]=[]),l[b].push(h)):l[b]=h}),u},{});n instanceof Function&&function u(f){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;l===o.length?Object.keys(f).forEach(function(h){return f[h]=n(f[h])}):Object.values(f).forEach(function(h){return u(h,l+1)})}(a);var s=a;return i&&(s=[],function u(f){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];l.length===o.length?s.push({keys:l,vals:f}):Object.entries(f).forEach(function(h){var c=Rl(h,2),p=c[0],d=c[1];return u(d,[].concat(Il(l),[p]))})}(a),r instanceof Array&&r.length===0&&s.length===1&&(s[0].keys=[])),s},La=Ul;function Fa(e,r){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(r).domain(e);break}return this}var dn=Symbol("implicit");function je(){var e=new ne,r=[],n=[],i=dn;function o(a){let s=e.get(a);if(s===void 0){if(i!==dn)return i;e.set(a,s=r.push(a)-1)}return n[s%n.length]}return o.domain=function(a){if(!arguments.length)return r.slice();r=[],e=new ne;for(let s of a)e.has(s)||e.set(s,r.push(s)-1);return o},o.range=function(a){return arguments.length?(n=Array.from(a),o):n.slice()},o.unknown=function(a){return arguments.length?(i=a,o):i},o.copy=function(){return je(r,n).unknown(i)},Fa.apply(o,arguments),o}function qa(e){for(var r=e.length/6|0,n=new Array(r),i=0;i<r;)n[i]="#"+e.slice(i*6,++i*6);return n}var gn=qa("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928");function Bl(e,r){r===void 0&&(r={});var n=r.insertAt;if(!(!e||typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",n==="top"&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}var jl=`.force-graph-container canvas {
  display: block;
  user-select: none;
  outline: none;
  -webkit-tap-highlight-color: transparent;
}

.force-graph-container .graph-tooltip {
  position: absolute;
  top: 0;
  transform: translate(-50%, 25px);
  font-family: sans-serif;
  font-size: 16px;
  padding: 4px;
  border-radius: 3px;
  color: #eee;
  background: rgba(0,0,0,0.65);
  visibility: hidden; /* by default */
}

.force-graph-container .clickable {
  cursor: pointer;
}

.force-graph-container .grabbable {
  cursor: move;
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}

.force-graph-container .grabbable:active {
  cursor: grabbing;
  cursor: -moz-grabbing;
  cursor: -webkit-grabbing;
}
`;Bl(jl);function Ua(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);r&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,i)}return n}function se(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?Ua(Object(n),!0).forEach(function(i){$e(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ua(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function xn(e){return xn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},xn(e)}function $e(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function yn(e,r){return yn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,o){return i.__proto__=o,i},yn(e,r)}function Hl(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function He(e,r,n){return Hl()?He=Reflect.construct.bind():He=function(o,a,s){var u=[null];u.push.apply(u,a);var f=Function.bind.apply(o,u),l=new f;return s&&yn(l,s.prototype),l},He.apply(null,arguments)}function Ge(e,r){return $l(e)||Yl(e,r)||Ga(e,r)||Wl()}function At(e){return Gl(e)||Vl(e)||Ga(e)||Xl()}function Gl(e){if(Array.isArray(e))return vn(e)}function $l(e){if(Array.isArray(e))return e}function Vl(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Yl(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i=[],o=!0,a=!1,s,u;try{for(n=n.call(e);!(o=(s=n.next()).done)&&(i.push(s.value),!(r&&i.length===r));o=!0);}catch(f){a=!0,u=f}finally{try{!o&&n.return!=null&&n.return()}finally{if(a)throw u}}return i}}function Ga(e,r){if(!!e){if(typeof e=="string")return vn(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vn(e,r)}}function vn(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,i=new Array(r);n<r;n++)i[n]=e[n];return i}function Xl(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wl(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Zl=je(gn);function Ba(e,r,n){!r||typeof n!="string"||e.filter(function(i){return!i[n]}).forEach(function(i){i[n]=Zl(r(i))})}function Ql(e,r){var n=e.nodes,i=e.links,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=o.nodeFilter,s=a===void 0?function(){return!0}:a,u=o.onLoopError,f=u===void 0?function(d){throw"Invalid DAG structure! Found cycle in node path: ".concat(d.join(" -> "),".")}:u,l={};n.forEach(function(d){return l[r(d)]={data:d,out:[],depth:-1,skip:!s(d)}}),i.forEach(function(d){var y=d.source,b=d.target,k=_(y),g=_(b);if(!l.hasOwnProperty(k))throw"Missing source node with id: ".concat(k);if(!l.hasOwnProperty(g))throw"Missing target node with id: ".concat(g);var T=l[k],O=l[g];T.out.push(O);function _(v){return xn(v)==="object"?r(v):v}});var h=[];p(Object.values(l));var c=Object.assign.apply(Object,[{}].concat(At(Object.entries(l).filter(function(d){var y=Ge(d,2),b=y[1];return!b.skip}).map(function(d){var y=Ge(d,2),b=y[0],k=y[1];return $e({},b,k.depth)}))));return c;function p(d){for(var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,k=0,g=d.length;k<g;k++){var T=d[k];if(y.indexOf(T)!==-1){var O=function(){var _=[].concat(At(y.slice(y.indexOf(T))),[T]).map(function(v){return r(v.data)});return h.some(function(v){return v.length===_.length&&v.every(function(C,S){return C===_[S]})})||(h.push(_),f(_)),"continue"}();if(O==="continue")continue}b>T.depth&&(T.depth=b,p(T.out,[].concat(At(y),[T]),b+(T.skip?0:1)))}}}var Kl=2,ft=function(r,n){return n.onNeedsRedraw&&n.onNeedsRedraw()},Ar=Jr({props:{graphData:{default:{nodes:[],links:[]},onChange:function(r,n){n.engineRunning=!1}},dagMode:{onChange:function(r,n){!r&&(n.graphData.nodes||[]).forEach(function(i){return i.fx=i.fy=void 0})}},dagLevelDistance:{},dagNodeFilter:{default:function(r){return!0}},onDagError:{triggerUpdate:!1},nodeRelSize:{default:4,triggerUpdate:!1,onChange:ft},nodeId:{default:"id"},nodeVal:{default:"val",triggerUpdate:!1,onChange:ft},nodeColor:{default:"color",triggerUpdate:!1,onChange:ft},nodeAutoColorBy:{},nodeCanvasObject:{triggerUpdate:!1,onChange:ft},nodeCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:ft},nodeVisibility:{default:!0,triggerUpdate:!1,onChange:ft},linkSource:{default:"source"},linkTarget:{default:"target"},linkVisibility:{default:!0,triggerUpdate:!1,onChange:ft},linkColor:{default:"color",triggerUpdate:!1,onChange:ft},linkAutoColorBy:{},linkLineDash:{triggerUpdate:!1,onChange:ft},linkWidth:{default:1,triggerUpdate:!1,onChange:ft},linkCurvature:{default:0,triggerUpdate:!1,onChange:ft},linkCanvasObject:{triggerUpdate:!1,onChange:ft},linkCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:ft},linkDirectionalArrowLength:{default:0,triggerUpdate:!1,onChange:ft},linkDirectionalArrowColor:{triggerUpdate:!1,onChange:ft},linkDirectionalArrowRelPos:{default:.5,triggerUpdate:!1,onChange:ft},linkDirectionalParticles:{default:0},linkDirectionalParticleSpeed:{default:.01,triggerUpdate:!1},linkDirectionalParticleWidth:{default:4,triggerUpdate:!1},linkDirectionalParticleColor:{triggerUpdate:!1},globalScale:{default:1,triggerUpdate:!1},d3AlphaMin:{default:0,triggerUpdate:!1},d3AlphaDecay:{default:.0228,triggerUpdate:!1,onChange:function(r,n){n.forceLayout.alphaDecay(r)}},d3AlphaTarget:{default:0,triggerUpdate:!1,onChange:function(r,n){n.forceLayout.alphaTarget(r)}},d3VelocityDecay:{default:.4,triggerUpdate:!1,onChange:function(r,n){n.forceLayout.velocityDecay(r)}},warmupTicks:{default:0,triggerUpdate:!1},cooldownTicks:{default:1/0,triggerUpdate:!1},cooldownTime:{default:15e3,triggerUpdate:!1},onUpdate:{default:function(){},triggerUpdate:!1},onFinishUpdate:{default:function(){},triggerUpdate:!1},onEngineTick:{default:function(){},triggerUpdate:!1},onEngineStop:{default:function(){},triggerUpdate:!1},onNeedsRedraw:{triggerUpdate:!1},isShadow:{default:!1,triggerUpdate:!1}},methods:{d3Force:function(r,n,i){return i===void 0?r.forceLayout.force(n):(r.forceLayout.force(n,i),this)},d3ReheatSimulation:function(r){return r.forceLayout.alpha(1),this.resetCountdown(),this},resetCountdown:function(r){return r.cntTicks=0,r.startTickTime=new Date,r.engineRunning=!0,this},isEngineRunning:function(r){return!!r.engineRunning},tickFrame:function(r){return!r.isShadow&&n(),o(),!r.isShadow&&a(),!r.isShadow&&s(),i(),this;function n(){r.engineRunning&&(++r.cntTicks>r.cooldownTicks||new Date-r.startTickTime>r.cooldownTime||r.d3AlphaMin>0&&r.forceLayout.alpha()<r.d3AlphaMin?(r.engineRunning=!1,r.onEngineStop()):(r.forceLayout.tick(),r.onEngineTick()))}function i(){var u=Q(r.nodeVisibility),f=Q(r.nodeVal),l=Q(r.nodeColor),h=Q(r.nodeCanvasObjectMode),c=r.ctx,p=r.isShadow/r.globalScale,d=r.graphData.nodes.filter(u);c.save(),d.forEach(function(y){var b=h(y);if(r.nodeCanvasObject&&(b==="before"||b==="replace")&&(r.nodeCanvasObject(y,c,r.globalScale),b==="replace")){c.restore();return}var k=Math.sqrt(Math.max(0,f(y)||1))*r.nodeRelSize+p;c.beginPath(),c.arc(y.x,y.y,k,0,2*Math.PI,!1),c.fillStyle=l(y)||"rgba(31, 120, 180, 0.92)",c.fill(),r.nodeCanvasObject&&b==="after"&&r.nodeCanvasObject(y,r.ctx,r.globalScale)}),c.restore()}function o(){var u=Q(r.linkVisibility),f=Q(r.linkColor),l=Q(r.linkWidth),h=Q(r.linkLineDash),c=Q(r.linkCurvature),p=Q(r.linkCanvasObjectMode),d=r.ctx,y=r.isShadow*2,b=r.graphData.links.filter(u);b.forEach(C);var k=[],g=[],T=b;if(r.linkCanvasObject){var O=[],_=[];b.forEach(function(S){return({before:k,after:g,replace:O}[p(S)]||_).push(S)}),T=[].concat(At(k),g,_),k=k.concat(O)}d.save(),k.forEach(function(S){return r.linkCanvasObject(S,d,r.globalScale)}),d.restore();var v=La(T,[f,l,h]);d.save(),Object.entries(v).forEach(function(S){var z=Ge(S,2),M=z[0],E=z[1],U=!M||M==="undefined"?"rgba(0,0,0,0.15)":M;Object.entries(E).forEach(function(B){var $=Ge(B,2),A=$[0],P=$[1],R=(A||1)/r.globalScale+y;Object.entries(P).forEach(function(q){var j=Ge(q,2);j[0];var D=j[1],H=h(D[0]);d.beginPath(),D.forEach(function(G){var Z=G.source,rt=G.target;if(!(!Z||!rt||!Z.hasOwnProperty("x")||!rt.hasOwnProperty("x"))){d.moveTo(Z.x,Z.y);var V=G.__controlPoints;V?d[V.length===2?"quadraticCurveTo":"bezierCurveTo"].apply(d,At(V).concat([rt.x,rt.y])):d.lineTo(rt.x,rt.y)}}),d.strokeStyle=U,d.lineWidth=R,d.setLineDash(H||[]),d.stroke()})})}),d.restore(),d.save(),g.forEach(function(S){return r.linkCanvasObject(S,d,r.globalScale)}),d.restore();function C(S){var z=c(S);if(!z){S.__controlPoints=null;return}var M=S.source,E=S.target;if(!(!M||!E||!M.hasOwnProperty("x")||!E.hasOwnProperty("x"))){var U=Math.sqrt(Math.pow(E.x-M.x,2)+Math.pow(E.y-M.y,2));if(U>0){var B=Math.atan2(E.y-M.y,E.x-M.x),$=U*z,A={x:(M.x+E.x)/2+$*Math.cos(B-Math.PI/2),y:(M.y+E.y)/2+$*Math.sin(B-Math.PI/2)};S.__controlPoints=[A.x,A.y]}else{var P=z*70;S.__controlPoints=[E.x,E.y-P,E.x+P,E.y]}}}}function a(){var u=1.6,f=.2,l=Q(r.linkDirectionalArrowLength),h=Q(r.linkDirectionalArrowRelPos),c=Q(r.linkVisibility),p=Q(r.linkDirectionalArrowColor||r.linkColor),d=Q(r.nodeVal),y=r.ctx;y.save(),r.graphData.links.filter(c).forEach(function(b){var k=l(b);if(!(!k||k<0)){var g=b.source,T=b.target;if(!(!g||!T||!g.hasOwnProperty("x")||!T.hasOwnProperty("x"))){var O=Math.sqrt(Math.max(0,d(g)||1))*r.nodeRelSize,_=Math.sqrt(Math.max(0,d(T)||1))*r.nodeRelSize,v=Math.min(1,Math.max(0,h(b))),C=p(b)||"rgba(0,0,0,0.28)",S=k/u/2,z=b.__controlPoints&&He(W,[g.x,g.y].concat(At(b.__controlPoints),[T.x,T.y])),M=z?function(R){return z.get(R)}:function(R){return{x:g.x+(T.x-g.x)*R||0,y:g.y+(T.y-g.y)*R||0}},E=z?z.length():Math.sqrt(Math.pow(T.x-g.x,2)+Math.pow(T.y-g.y,2)),U=O+k+(E-O-_-k)*v,B=M(U/E),$=M((U-k)/E),A=M((U-k*(1-f))/E),P=Math.atan2(B.y-$.y,B.x-$.x)-Math.PI/2;y.beginPath(),y.moveTo(B.x,B.y),y.lineTo($.x+S*Math.cos(P),$.y+S*Math.sin(P)),y.lineTo(A.x,A.y),y.lineTo($.x-S*Math.cos(P),$.y-S*Math.sin(P)),y.fillStyle=C,y.fill()}}}),y.restore()}function s(){var u=Q(r.linkDirectionalParticles),f=Q(r.linkDirectionalParticleSpeed),l=Q(r.linkDirectionalParticleWidth),h=Q(r.linkVisibility),c=Q(r.linkDirectionalParticleColor||r.linkColor),p=r.ctx;p.save(),r.graphData.links.filter(h).forEach(function(d){var y=u(d);if(!(!d.hasOwnProperty("__photons")||!d.__photons.length)){var b=d.source,k=d.target;if(!(!b||!k||!b.hasOwnProperty("x")||!k.hasOwnProperty("x"))){var g=f(d),T=d.__photons||[],O=Math.max(0,l(d)/2)/Math.sqrt(r.globalScale),_=c(d)||"rgba(0,0,0,0.28)";p.fillStyle=_;var v=d.__controlPoints?He(W,[b.x,b.y].concat(At(d.__controlPoints),[k.x,k.y])):null,C=0,S=!1;T.forEach(function(z){var M=!!z.__singleHop;if(z.hasOwnProperty("__progressRatio")||(z.__progressRatio=M?0:C/y),!M&&C++,z.__progressRatio+=g,z.__progressRatio>=1)if(!M)z.__progressRatio=z.__progressRatio%1;else{S=!0;return}var E=z.__progressRatio,U=v?v.get(E):{x:b.x+(k.x-b.x)*E||0,y:b.y+(k.y-b.y)*E||0};p.beginPath(),p.arc(U.x,U.y,O,0,2*Math.PI,!1),p.fill()}),S&&(d.__photons=d.__photons.filter(function(z){return!z.__singleHop||z.__progressRatio<=1}))}}}),p.restore()}},emitParticle:function(r,n){return n&&(!n.__photons&&(n.__photons=[]),n.__photons.push({__singleHop:!0})),this}},stateInit:function(){return{forceLayout:un().force("link",an()).force("charge",fn()).force("center",en()).force("dagRadial",null).stop(),engineRunning:!1}},init:function(r,n){n.ctx=r},update:function(r){if(r.engineRunning=!1,r.onUpdate(),r.nodeAutoColorBy!==null&&Ba(r.graphData.nodes,Q(r.nodeAutoColorBy),r.nodeColor),r.linkAutoColorBy!==null&&Ba(r.graphData.links,Q(r.linkAutoColorBy),r.linkColor),r.graphData.links.forEach(function(c){c.source=c[r.linkSource],c.target=c[r.linkTarget]}),!r.isShadow){var n=Q(r.linkDirectionalParticles);r.graphData.links.forEach(function(c){var p=Math.round(Math.abs(n(c)));p?c.__photons=At(Array(p)).map(function(){return{}}):delete c.__photons})}r.forceLayout.stop().alpha(1).nodes(r.graphData.nodes);var i=r.forceLayout.force("link");i&&i.id(function(c){return c[r.nodeId]}).links(r.graphData.links);var o=r.dagMode&&Ql(r.graphData,function(c){return c[r.nodeId]},{nodeFilter:r.dagNodeFilter,onLoopError:r.onDagError||void 0}),a=Math.max.apply(Math,At(Object.values(o||[]))),s=r.dagLevelDistance||r.graphData.nodes.length/(a||1)*Kl*(["radialin","radialout"].indexOf(r.dagMode)!==-1?.7:1);if(r.dagMode){var u=function(p,d){return function(y){return p?(o[y[r.nodeId]]-a/2)*s*(d?-1:1):void 0}},f=u(["lr","rl"].indexOf(r.dagMode)!==-1,r.dagMode==="rl"),l=u(["td","bu"].indexOf(r.dagMode)!==-1,r.dagMode==="bu");r.graphData.nodes.filter(r.dagNodeFilter).forEach(function(c){c.fx=f(c),c.fy=l(c)})}r.forceLayout.force("dagRadial",["radialin","radialout"].indexOf(r.dagMode)!==-1?ln(function(c){var p=o[c[r.nodeId]]||-1;return(r.dagMode==="radialin"?a-p:p)*s}).strength(function(c){return r.dagNodeFilter(c)?1:0}):null);for(var h=0;h<r.warmupTicks&&!(r.d3AlphaMin>0&&r.forceLayout.alpha()<r.d3AlphaMin);h++)r.forceLayout.tick();this.resetCountdown(),r.onFinishUpdate()}});function $a(e,r){var n=e instanceof Array?e:[e],i=new r;return{linkProp:function(a){return{default:i[a](),onChange:function(u,f){n.forEach(function(l){return f[l][a](u)})},triggerUpdate:!1}},linkMethod:function(a){return function(s){for(var u=arguments.length,f=new Array(u>1?u-1:0),l=1;l<u;l++)f[l-1]=arguments[l];var h=[];return n.forEach(function(c){var p=s[c],d=p[a].apply(p,f);d!==p&&h.push(d)}),h.length?h[0]:this}}}}var Jl=800,tc=4,Va=$a("forceGraph",Ar),ec=$a(["forceGraph","shadowGraph"],Ar),rc=Object.assign.apply(Object,At(["nodeColor","nodeAutoColorBy","nodeCanvasObject","nodeCanvasObjectMode","linkColor","linkAutoColorBy","linkLineDash","linkWidth","linkCanvasObject","linkCanvasObjectMode","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowRelPos","linkDirectionalParticles","linkDirectionalParticleSpeed","linkDirectionalParticleWidth","linkDirectionalParticleColor","dagMode","dagLevelDistance","dagNodeFilter","onDagError","d3AlphaMin","d3AlphaDecay","d3VelocityDecay","warmupTicks","cooldownTicks","cooldownTime","onEngineTick","onEngineStop"].map(function(e){return $e({},e,Va.linkProp(e))})).concat(At(["nodeRelSize","nodeId","nodeVal","nodeVisibility","linkSource","linkTarget","linkVisibility","linkCurvature"].map(function(e){return $e({},e,ec.linkProp(e))})))),nc=Object.assign.apply(Object,At(["d3Force","d3ReheatSimulation","emitParticle"].map(function(e){return $e({},e,Va.linkMethod(e))})));function mn(e){if(e.canvas){var r=e.canvas.width,n=e.canvas.height;r===300&&n===150&&(r=n=0);var i=window.devicePixelRatio;r/=i,n/=i,[e.canvas,e.shadowCanvas].forEach(function(a){a.style.width="".concat(e.width,"px"),a.style.height="".concat(e.height,"px"),a.width=e.width*i,a.height=e.height*i,!r&&!n&&a.getContext("2d").scale(i,i)});var o=mt(e.canvas).k;e.zoom.translateBy(e.zoom.__baseElem,(e.width-r)/2/o,(e.height-n)/2/o),e.needsRedraw=!0}}function Ya(e){var r=window.devicePixelRatio;e.setTransform(r,0,0,r,0,0)}function ja(e,r,n){e.save(),Ya(e),e.clearRect(0,0,r,n),e.restore()}var Xa=Jr({props:se({width:{default:window.innerWidth,onChange:function(r,n){return mn(n)},triggerUpdate:!1},height:{default:window.innerHeight,onChange:function(r,n){return mn(n)},triggerUpdate:!1},graphData:{default:{nodes:[],links:[]},onChange:function(r,n){[{type:"Node",objs:r.nodes},{type:"Link",objs:r.links}].forEach(i),n.forceGraph.graphData(r),n.shadowGraph.graphData(r);function i(o){var a=o.type,s=o.objs;s.filter(function(u){if(!u.hasOwnProperty("__indexColor"))return!0;var f=n.colorTracker.lookup(u.__indexColor);return!f||!f.hasOwnProperty("d")||f.d!==u}).forEach(function(u){u.__indexColor=n.colorTracker.register({type:a,d:u})})}},triggerUpdate:!1},backgroundColor:{onChange:function(r,n){n.canvas&&r&&(n.canvas.style.background=r)},triggerUpdate:!1},nodeLabel:{default:"name",triggerUpdate:!1},nodePointerAreaPaint:{onChange:function(r,n){n.shadowGraph.nodeCanvasObject(r?function(i,o,a){return r(i,i.__indexColor,o,a)}:null),n.flushShadowCanvas&&n.flushShadowCanvas()},triggerUpdate:!1},linkPointerAreaPaint:{onChange:function(r,n){n.shadowGraph.linkCanvasObject(r?function(i,o,a){return r(i,i.__indexColor,o,a)}:null),n.flushShadowCanvas&&n.flushShadowCanvas()},triggerUpdate:!1},linkLabel:{default:"name",triggerUpdate:!1},linkHoverPrecision:{default:4,triggerUpdate:!1},minZoom:{default:.01,onChange:function(r,n){n.zoom.scaleExtent([r,n.zoom.scaleExtent()[1]])},triggerUpdate:!1},maxZoom:{default:1e3,onChange:function(r,n){n.zoom.scaleExtent([n.zoom.scaleExtent()[0],r])},triggerUpdate:!1},enableNodeDrag:{default:!0,triggerUpdate:!1},enableZoomInteraction:{default:!0,triggerUpdate:!1},enablePanInteraction:{default:!0,triggerUpdate:!1},enableZoomPanInteraction:{default:!0,triggerUpdate:!1},enablePointerInteraction:{default:!0,onChange:function(r,n){n.hoverObj=null},triggerUpdate:!1},autoPauseRedraw:{default:!0,triggerUpdate:!1},onNodeDrag:{default:function(){},triggerUpdate:!1},onNodeDragEnd:{default:function(){},triggerUpdate:!1},onNodeClick:{triggerUpdate:!1},onNodeRightClick:{triggerUpdate:!1},onNodeHover:{triggerUpdate:!1},onLinkClick:{triggerUpdate:!1},onLinkRightClick:{triggerUpdate:!1},onLinkHover:{triggerUpdate:!1},onBackgroundClick:{triggerUpdate:!1},onBackgroundRightClick:{triggerUpdate:!1},onZoom:{triggerUpdate:!1},onZoomEnd:{triggerUpdate:!1},onRenderFramePre:{triggerUpdate:!1},onRenderFramePost:{triggerUpdate:!1}},rc),aliases:{stopAnimation:"pauseAnimation"},methods:se({graph2ScreenCoords:function(r,n,i){var o=mt(r.canvas);return{x:n*o.k+o.x,y:i*o.k+o.y}},screen2GraphCoords:function(r,n,i){var o=mt(r.canvas);return{x:(n-o.x)/o.k,y:(i-o.y)/o.k}},centerAt:function(r,n,i,o){if(!r.canvas)return null;if(n!==void 0||i!==void 0){var a=Object.assign({},n!==void 0?{x:n}:{},i!==void 0?{y:i}:{});return o?new oe.Tween(s()).to(a,o).easing(oe.Easing.Quadratic.Out).onUpdate(u).start():u(a),this}return s();function s(){var f=mt(r.canvas);return{x:(r.width/2-f.x)/f.k,y:(r.height/2-f.y)/f.k}}function u(f){var l=f.x,h=f.y;r.zoom.translateTo(r.zoom.__baseElem,l===void 0?s().x:l,h===void 0?s().y:h),r.needsRedraw=!0}},zoom:function(r,n,i){if(!r.canvas)return null;if(n!==void 0)return i?new oe.Tween({k:o()}).to({k:n},i).easing(oe.Easing.Quadratic.Out).onUpdate(function(s){var u=s.k;return a(u)}).start():a(n),this;return o();function o(){return mt(r.canvas).k}function a(s){r.zoom.scaleTo(r.zoom.__baseElem,s),r.needsRedraw=!0}},zoomToFit:function(r){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,o=arguments.length,a=new Array(o>3?o-3:0),s=3;s<o;s++)a[s-3]=arguments[s];var u=this.getGraphBbox.apply(this,a);if(u){var f={x:(u.x[0]+u.x[1])/2,y:(u.y[0]+u.y[1])/2},l=Math.max(1e-12,Math.min(1e12,(r.width-i*2)/(u.x[1]-u.x[0]),(r.height-i*2)/(u.y[1]-u.y[0])));this.centerAt(f.x,f.y,n),this.zoom(l,n)}return this},getGraphBbox:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return!0},i=Q(r.nodeVal),o=function(u){return Math.sqrt(Math.max(0,i(u)||1))*r.nodeRelSize},a=r.graphData.nodes.filter(n).map(function(s){return{x:s.x,y:s.y,r:o(s)}});return a.length?{x:[Ie(a,function(s){return s.x-s.r}),Re(a,function(s){return s.x+s.r})],y:[Ie(a,function(s){return s.y-s.r}),Re(a,function(s){return s.y+s.r})]}:null},pauseAnimation:function(r){return r.animationFrameRequestId&&(cancelAnimationFrame(r.animationFrameRequestId),r.animationFrameRequestId=null),this},resumeAnimation:function(r){return r.animationFrameRequestId||this._animationCycle(),this},_destructor:function(){this.pauseAnimation(),this.graphData({nodes:[],links:[]})}},nc),stateInit:function(){return{lastSetZoom:1,zoom:Wr(),forceGraph:new Ar,shadowGraph:new Ar().cooldownTicks(0).nodeColor("__indexColor").linkColor("__indexColor").isShadow(!0),colorTracker:new Oo}},init:function(r,n){var i=this;r.innerHTML="";var o=document.createElement("div");o.classList.add("force-graph-container"),o.style.position="relative",r.appendChild(o),n.canvas=document.createElement("canvas"),n.backgroundColor&&(n.canvas.style.background=n.backgroundColor),o.appendChild(n.canvas),n.shadowCanvas=document.createElement("canvas");var a=n.canvas.getContext("2d"),s=n.shadowCanvas.getContext("2d"),u={x:-1e12,y:-1e12},f=function(){var p=null,d=window.devicePixelRatio,y=u.x>0&&u.y>0?s.getImageData(u.x*d,u.y*d,1,1):null;return y&&(p=n.colorTracker.lookup(y.data)),p};st(n.canvas).call(Mr().subject(function(){if(!n.enableNodeDrag)return null;var c=f();return c&&c.type==="Node"?c.d:null}).on("start",function(c){var p=c.subject;p.__initialDragPos={x:p.x,y:p.y,fx:p.fx,fy:p.fy},c.active||(p.fx=p.x,p.fy=p.y),n.canvas.classList.add("grabbable")}).on("drag",function(c){var p=c.subject,d=p.__initialDragPos,y=c,b=mt(n.canvas).k,k={x:d.x+(y.x-d.x)/b-p.x,y:d.y+(y.y-d.y)/b-p.y};["x","y"].forEach(function(g){return p["f".concat(g)]=p[g]=d[g]+(y[g]-d[g])/b}),n.forceGraph.d3AlphaTarget(.3).resetCountdown(),n.isPointerDragging=!0,p.__dragged=!0,n.onNodeDrag(p,k)}).on("end",function(c){var p=c.subject,d=p.__initialDragPos,y={x:p.x-d.x,y:p.y-d.y};d.fx===void 0&&(p.fx=void 0),d.fy===void 0&&(p.fy=void 0),delete p.__initialDragPos,n.forceGraph.d3AlphaTarget()&&n.forceGraph.d3AlphaTarget(0).resetCountdown(),n.canvas.classList.remove("grabbable"),n.isPointerDragging=!1,p.__dragged&&(delete p.__dragged,n.onNodeDragEnd(p,y))})),n.zoom(n.zoom.__baseElem=st(n.canvas)),n.zoom.__baseElem.on("dblclick.zoom",null),n.zoom.filter(function(c){return!c.button&&n.enableZoomPanInteraction&&(n.enableZoomInteraction||c.type!=="wheel")&&(n.enablePanInteraction||c.type==="wheel")}).on("zoom",function(c){var p=c.transform;[a,s].forEach(function(d){Ya(d),d.translate(p.x,p.y),d.scale(p.k,p.k)}),n.onZoom&&n.onZoom(se(se({},p),i.centerAt())),n.needsRedraw=!0}).on("end",function(c){return n.onZoomEnd&&n.onZoomEnd(se(se({},c.transform),i.centerAt()))}),mn(n),n.forceGraph.onNeedsRedraw(function(){return n.needsRedraw=!0}).onFinishUpdate(function(){mt(n.canvas).k===n.lastSetZoom&&n.graphData.nodes.length&&(n.zoom.scaleTo(n.zoom.__baseElem,n.lastSetZoom=tc/Math.cbrt(n.graphData.nodes.length)),n.needsRedraw=!0)});var l=document.createElement("div");l.classList.add("graph-tooltip"),o.appendChild(l),["pointermove","pointerdown"].forEach(function(c){return o.addEventListener(c,function(p){c==="pointerdown"&&(n.isPointerPressed=!0,n.pointerDownEvent=p),!n.isPointerDragging&&p.type==="pointermove"&&n.onBackgroundClick&&(p.pressure>0||n.isPointerPressed)&&(p.pointerType!=="touch"||p.movementX===void 0||[p.movementX,p.movementY].some(function(b){return Math.abs(b)>1}))&&(n.isPointerDragging=!0);var d=y(o);u.x=p.pageX-d.left,u.y=p.pageY-d.top,l.style.top="".concat(u.y,"px"),l.style.left="".concat(u.x,"px");function y(b){var k=b.getBoundingClientRect(),g=window.pageXOffset||document.documentElement.scrollLeft,T=window.pageYOffset||document.documentElement.scrollTop;return{top:k.top+T,left:k.left+g}}},{passive:!0})}),o.addEventListener("pointerup",function(c){if(n.isPointerPressed=!1,n.isPointerDragging){n.isPointerDragging=!1;return}var p=[c,n.pointerDownEvent];requestAnimationFrame(function(){if(c.button===0)if(n.hoverObj){var d=n["on".concat(n.hoverObj.type,"Click")];d&&d.apply(void 0,[n.hoverObj.d].concat(p))}else n.onBackgroundClick&&n.onBackgroundClick.apply(n,p);if(c.button===2)if(n.hoverObj){var y=n["on".concat(n.hoverObj.type,"RightClick")];y&&y.apply(void 0,[n.hoverObj.d].concat(p))}else n.onBackgroundRightClick&&n.onBackgroundRightClick.apply(n,p)})},{passive:!0}),o.addEventListener("contextmenu",function(c){return!n.onBackgroundRightClick&&!n.onNodeRightClick&&!n.onLinkRightClick?!0:(c.preventDefault(),!1)}),n.forceGraph(a),n.shadowGraph(s);var h=(0,Ha.default)(function(){ja(s,n.width,n.height),n.shadowGraph.linkWidth(function(p){return Q(n.linkWidth)(p)+n.linkHoverPrecision});var c=mt(n.canvas);n.shadowGraph.globalScale(c.k).tickFrame()},Jl);n.flushShadowCanvas=h.flush,(this._animationCycle=function c(){var p=!n.autoPauseRedraw||!!n.needsRedraw||n.forceGraph.isEngineRunning()||n.graphData.links.some(function(v){return v.__photons&&v.__photons.length});if(n.needsRedraw=!1,n.enablePointerInteraction){var d=n.isPointerDragging?null:f();if(d!==n.hoverObj){var y=n.hoverObj,b=y?y.type:null,k=d?d.type:null;if(b&&b!==k){var g=n["on".concat(b,"Hover")];g&&g(null,y.d)}if(k){var T=n["on".concat(k,"Hover")];T&&T(d.d,b===k?y.d:null)}var O=d&&Q(n["".concat(d.type.toLowerCase(),"Label")])(d.d)||"";l.style.visibility=O?"visible":"hidden",l.innerHTML=O,n.canvas.classList[d&&n["on".concat(k,"Click")]||!d&&n.onBackgroundClick?"add":"remove"]("clickable"),n.hoverObj=d}p&&h()}if(p){ja(a,n.width,n.height);var _=mt(n.canvas).k;n.onRenderFramePre&&n.onRenderFramePre(a,_),n.forceGraph.globalScale(_).tickFrame(),n.onRenderFramePost&&n.onRenderFramePost(a,_)}oe.update(),n.animationFrameRequestId=requestAnimationFrame(c)})()},update:function(r){}});var Cr=class{constructor(r,n){this.source=r;this.target=n;this.source=r,this.target=n}isVisible(){return this.source.isVisible()&&this.target.isVisible()}};var ue=class{constructor(r){this.id=r.ID}updateFrom(r,n){return!1}isVisible(){return!0}paintInteractionArea(r,n,i){let{x:o,y:a}=this;!o||!a||(n.fillStyle=r,n.fillRect(o-5,a-5,10,10))}};var Zt=class{constructor({color:r,baseSize:n,font:i,align:o,baseline:a,dynamic:s}={}){this.color=r||"black",this.baseSize=n||12,this.font=i||"sans-serif",this.align=o||"center",this.baseline=a||"middle",this.dynamic=s!==void 0?s:!0}prepare(r,n){this.dynamic?r.font=`${this.baseSize/n}pt ${this.font}`:r.font=`${this.baseSize}pt ${this.font}`,r.textAlign=this.align,r.textBaseline=this.baseline,r.fillStyle=this.color}measure(r,n,i){this.prepare(r,n);let o=r.measureText(i);return[o.actualBoundingBoxRight+o.actualBoundingBoxLeft,o.actualBoundingBoxAscent+o.actualBoundingBoxDescent]}render(r,n,i,o,a){this.prepare(r,n),r.fillText(i,o,a)}};var ic=new Zt({baseline:"top"}),oc=new Zt({font:"Font Awesome 6 Free",baseSize:24,dynamic:!1}),Ve=class extends ue{constructor(r){super(r),console.debug("network",r),this.label=r.Name}render(r,n){let{x:i,y:o,label:a}=this;!i||!o||(oc.render(r,n,"\uF6FF",i,o),a&&ic.render(r,n,a,i,o+3))}paintInteractionArea(r,n,i){let{x:o,y:a}=this;!o||!a||(n.fillStyle=r,n.fillRect(o-5,a-5,10,10))}};var Wa=new Zt({}),ac={running:"#0C0",exited:"#CCC"},Sr=class extends ue{constructor(n){super(n);this.status="unknown";this.width=5;this.height=5;this.label=n.Service||n.Name,this.image=n.Image}get name(){return`image: ${this.image}<br/>status: ${this.status}`}updateFrom(n,i){let o=super.updateFrom(n,i);this.status!=n.Status&&(this.status=n.Status,o=!0);let a=n.Networks||{},s=new Set;for(let[u,f]of Object.entries(a)){if(!f.ID)continue;let l=i.getOrCreateNode(f.ID,Ve,f);i.getOrCreateLink(this,l),s.add(l)}for(let u of i.listLinksFrom(this))u.target instanceof Ve&&!s.has(u.target)&&i.removeLink(u);return o}render(n,i){let{x:o,y:a,label:s,status:u}=this;if(!o||!a||!s)return;let[f,l]=Wa.measure(n,i,s);f+=3,l+=3,this.width=f,this.height=l,n.strokeStyle="black",n.lineWidth=.5,n.fillStyle=ac[u]||"white",n.beginPath(),n.rect(o-f/2,a-l/2,f,l),n.fill(),n.stroke(),Wa.render(n,i,s,o,a)}paintInteractionArea(n,i,o){let{x:a,y:s,width:u,height:f}=this;!a||!s||(i.fillStyle=n,i.fillRect(a-u/2,s-f/2,u,f))}};var Tr=class{constructor(){this.nodes=new Map;this.links=new Set;this.dirty=!1}data(){return this.dirty=!1,{nodes:Array.from(this.nodes.values()),links:Array.from(this.links.values())}}process(r){return r.TargetType!="container"?!1:(r.Type=="removed"?this.removeNodeByID(r.TargetID):this.getOrCreateNode(r.TargetID,Sr,r.Details),this.dirty)}markDirty(){this.dirty||(console.debug("graph is dirty"),this.dirty=!0)}isDirty(){return this.dirty}removeNode(r){return this.removeNodeByID(r.id)}removeNodeByID(r){let n=this.nodes.get(r);if(!n)return!1;this.nodes.delete(r),console.debug("removed node",n),this.markDirty();for(let i of this.links.values())(i.source===n||i.target===n)&&this.links.delete(i);return!0}getOrCreateNode(r,n,i){let o=this.nodes.get(r);return o||(o=new n(i),this.nodes.set(r,o),console.debug("new node",o),this.markDirty()),o.updateFrom(i,this)&&this.markDirty(),o}getOrCreateLink(r,n){let i=this.findLink(r,n);if(i)return i;let o=new Cr(r,n);return this.links.add(o),console.debug("new link",o),this.markDirty(),o}findLink(r,n){for(let i of this.links.values())if(i.source===r&&i.target===n)return i;return null}*listLinksFrom(r){for(let n of this.links.values())n.source===r&&(yield n)}removeLink(r){return this.links.delete(r)?(console.debug("removed link",r),this.markDirty(),!0):!1}};var Za=new Tr,Qa=Xa();Qa(document.getElementById("graph")).nodeCanvasObject((e,r,n)=>e.render(r,n)).nodePointerAreaPaint((e,r,n,i)=>e.paintInteractionArea(r,n,i)).nodeVisibility(e=>e.isVisible()).linkVisibility(e=>e.isVisible());var Or;function sc(){let e=Za.data();console.debug("refreshing graph:",e),Qa.graphData(e),Or=null}var uc=new EventSource("/api/events");uc.addEventListener("message",({data:e})=>{let r=JSON.parse(e);console.debug("event",r),Za.process(r)&&(Or&&clearTimeout(Or),Or=setTimeout(sc,300))});})();
